<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="he">
<head>
<meta charset="windows-1255">
<meta HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">

<META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE">
<meta HTTP-EQUIV="EXPIRES" CONTENT="Mon, 22 Jul 2002 11:12:01 GMT">
<title>הזמנת מקומות לימים נוראים</title>
<style>

 span {width:auto}

  
    .steps1 {width:15px; height:50px; border: 1px solid DarkGray; position:absolute;  }
		#drawing_1 {width:220px; height:20px; position:absolute; left:330px; top:131px;
		     background-color:green; border: 1px solid green;visibility:hidden}	
		#drawing_2 {width:150px; height:20px; position:absolute; left:350px; top:131px;
		     border: 1px solid black; text-align: center;visibility:hidden}	  
		#knisa {position:absolute; left:310px; top:200px;visibility:hidden}
		#mafrid1 {  position:absolute; left:730px; top:140px; width:5px; height:600px;  
		     background-color:black;  border: 1px solid black; transform:rotate(-45deg);
				     -webkit-transform: rotate(-45deg);  
                     -moz-transform: rotate(-45deg);
                     -ms-transform: rotate(-45deg);visibility:hidden}
		#mafrid2 	{  position:absolute; left:945px; top:140px; height:5px; width:250px;  
		     background-color:black;  border: 1px solid black; visibility:hidden }	
		#mafrid3 {  position:absolute; left:466px; top:140px; height:5px; width:110px;  
		     background-color:black;  border: 1px solid black; transform:rotate(90deg);
				 -webkit-transform: rotate(90deg);  
                     -moz-transform: rotate(90deg);
                     -ms-transform: rotate(90deg); visibility:hidden} 
		#drawing_3 {width:240px; height:143px; position:absolute; left:289px; top:1px;
		     background-color:LightSlateGray; border: 1px solid black;visibility:hidden}			 
		#mafrid4 	{  position:absolute; left:290px; top:550px; height:5px; width:90px;  
		     background-color:black;  border: 1px solid black; visibility:hidden }	
		#mafrid5 {  position:absolute; left:380px; top:140px; height:410px; width:5px;  
		     background-color:black;  border: 1px solid black;  visibility:hidden} 	
		#knisa1, #knisa2		{position:absolute; left:300px; top:200px;font-size:30px;visibility:hidden} 	
		#arrow1 {position:absolute; left:300px; top:200px;font-size:100px;visibility:hidden}
		#arrow2 {position:absolute; left:260px; top:200px;font-size:100px;visibility:hidden}
		#drawing_4 {width:118px; height:118px; position:absolute; left:70px; top:20px;
		      background-color:LightSlateGray;border: 1px solid black; visibility:hidden}	
    #knisa3		{position:absolute; left:70px; top:140px;font-size:30px;visibility:hidden} 	
   	#arrow3 {position:absolute; left:70px; top:170px;font-size:100px;visibility:hidden}
    #drawing_5 {width:50px; height:33px; position:absolute; left:70px; top:269px;
		      background-color:LightSlateGray;border: 1px solid black; visibility:hidden}	
    #arrow4 {position:absolute; left:950px; top:350px;font-size:100px; transform: rotate(180deg); visibility:hidden}
		#drawing_6 {width:50px; height:23px; position:absolute; left:70px; top:446px;
		      background-color:LightSlateGray;border: 1px solid black; visibility:hidden}	
	  #knisa4		{position:absolute; left:980px; top:400px;font-size:30px;visibility:hidden} 				

		#tinok {visibility:hidden}
		#sibaW  {visibility:hidden}
		#mishpW {visibility:hidden}
		#pitzlW {visibility:hidden}
		#sibaM  {visibility:hidden}
		#mishpM {visibility:hidden}
		#pitzlM {visibility:hidden}
		#babyComment  {visibility:hidden}
	 
		#hall1 { border:2px solid black;  width:1200px;height:940px; display:inline-block;   padding: 0;
              margin: 0; float:left;  min-width: 0;}	
		#hall2 { border:2px solid black;  width:1200px;height:750px; display:inline-block;   padding: 0;
              margin: 0; float:left;  min-width: 0; }	
		#hall3 { border:2px solid black;  width:1200px;height:740px; display:inline-block;   padding: 0;
              margin: 0; float:left;  min-width: 0;}	
																		
    #Button {border-style:hidden; width:1200px;  position:relative; margin: auto;}
   label, legend, radio, checkbox {display:inline-block; text-align:right; text-align:top; vertical-align:middle}
	 legend {color:red}
   #reqaddress, #RmoreComments {width:560px; height:80px;  border:1px solid black; font-size:18px}
	#pitzulMishpachotM, #REQfamilyListM, #reqExplanationM, #pitzulM, #reqExplanationW, #REQfamilyListW, #pitzulMishpachotW {width:320px;   border:1px solid black; font-size:16px}
 
   #id1 {width:auto}
   table, td,th {border:1px solid black; border-collapse:collapse; font-size:12px; text-align:center;font-weight:bold;}
	 input {font-size:17px ; }
	  input[type="number"] { direction:ltr; text-align:center }

	    img {position:absolute; z-index:-1}
			
     body{direction: rtl; }
		
		
   .UlClass {}
	 
	 
		 ul {position:relative;  display:block;list-style-type:none; margin:0; padding: 0px; }
		 li {border:1px solid green;text-align:center;padding:0px; margin: 0px; overflow:hidden;z-index:2 }
		 span { margin:0px; padding:0px;}
		.W40H20  { width:40px; height:20px;  position:relative; display:inline-block; margin:0px; padding:0px;   }
		.spnForW40H20    { width:42px; height:10px; position:relative; display:inline-block; margin:0 ;padding:0 }
		
		.W25H40  { width:25px; height:40px; position:relative; display:inline-block; margin:0; padding:25px 0px 0px 0px;}
		.W40H25  { width:40px; height:25px; position:relative; display:inline-block; margin:0; padding:0;   }
		.W22H37  { width:22px; height:37px; position:relative; display:inline-block; margin:0; padding:12px 0px 0px 0px;   }
		.spnForW22H37   { width:24px; height:10px; position:relative; display:inline-block; margin:0; padding:0}

 		.W50H20  { width:50px; height:22px; position:relative; display:inline-block; margin:0; padding:0;   }
		
		.W20H50  { width:22px; height:50px; position:relative; display:inline-block; margin:0; padding:0;   }
		
		.spnForW50H20   { width:52px; height:15px; position:relative; display:inline-block; margin:0; padding:0;   }
    

	  .Rotated45Div   { position:absolute; 
		                 -webkit-transform: rotate(45deg);  
                     -moz-transform: rotate(45deg);
                     -ms-transform: rotate(45deg);
                      transform: rotate(45deg)  
									  }
		.Rotated90Div   { position:absolute; 
		                 -webkit-transform: rotate(90deg);  
                     -moz-transform: rotate(90deg);
                     -ms-transform: rotate(90deg);
                      transform: rotate(90deg)  
									  }								
										
		.RotatedM45Div   { position:absolute; 
		                 -webkit-transform: rotate(-45deg);  
                     -moz-transform: rotate(-45deg);
                     -ms-transform: rotate(-45deg);
                      transform: rotate(-45deg)  
									  }
										
	 .RotatedM315Div   { position:absolute; 
		                 -webkit-transform: rotate(-315deg);   
                     -moz-transform: rotate(-315deg);
                     -ms-transform: rotate(-315deg);
                      transform: rotate(-315deg)  
									  }	
										
		.RotatedM135Div   { position:absolute; 
		                 -webkit-transform: rotate(-135deg);   
                     -moz-transform: rotate(-135deg);
                     -ms-transform: rotate(-135deg);
                      transform: rotate(-135);
											}  
											
											
		.RotatedM315Div   { position:absolute; 
		                 -webkit-transform: rotate(-315deg);   
                     -moz-transform: rotate(-315deg);
                     -ms-transform: rotate(-315deg);
                      transform: rotate(-315deg);  
									   									  }											
	 .notRotatedDiv {position:absolute}
	 
	 .textNotRotated {}
	 
	 .textRotatedM90 {  display:inline-block;
	                   -webkit-transform: rotate(-90deg);   
                     -moz-transform: rotate(-90deg);
                     -ms-transform: rotate(-90deg);
                      transform: rotate(-90deg) 
	                }
									
											
		.textRotatedM90Special	{  display:inline-block;
                    	margin-right: 0%; 
											width:49;
											height:19;
	                   -webkit-transform: rotate(-90deg);
										   -webkit-transform-origin: 80%;  
										 -moz-transform: rotate(-90deg);
										    -moz-transform-origin: 80%; 
										 -ms-transform: rotate(-90deg);
										     -ms-transform-origin: 80%; 
										 transform: rotate(-90deg);  
										   transform-origin: 80%; 
									    }	
																		
	 .textRotated90 {  display:inline-block;
	                   -webkit-transform: rotate(90deg);   
                     -moz-transform: rotate(90deg);
                     -ms-transform: rotate(90deg);
                      transform: rotate(90deg) 
	                }
									
									
									
	
								
	
	.EnglishClass {direction: ltr}
	.HebrewClass {direction: rtl}
	.confirmationEnglish {direction:ltr; display:none; clear:both}
	.confirmationHebrew {direction:rtl; display:none; clear:both}
	

	
	#dialogoverlay{
	display: none;
	opacity: .8;
	position: fixed;
	top: 0px;
	left: 0px;
	background: #FFF;
	width: 100%;
	z-index: 10;
}
#dialogbox{
	display: none;
	position: fixed;
	background: #000;
	border-radius:7px; 
	width:550px;
	z-index: 10;
}

#dialogbox > div{ background:#FFF; margin:8px; }
#dialogbox > div > #dialogboxhead{ background: DarkGray; font-size:19px; padding:10px; color:#CCC; }
#dialogbox > div > #dialogboxbody{ background:DarkSlateGray; padding:20px; color:#FFF; }
#dialogbox > div > #dialogboxfoot{ background: DarkGray; padding:10px; text-align:right; }
	
	
	 
</style>
<script>

var xhttp = new XMLHttpRequest();


var toPrint =new Array;





// -----------------------------MARTEF-----------------------------------------------------

row701={firstInRow:711, lastInRow:781, lft:552, tp:60,textRotate:"textNotRotated", cellClass:"W40H20", uLstClass:"UlClass",divClass:"notRotatedDiv"};
row702={firstInRow:712, lastInRow:782};
row703={firstInRow:713, lastInRow:783};
row704={firstInRow:714, lastInRow:784};
row705={firstInRow:715, lastInRow:785};
//spn716={spn:"spn",  spnClass:"spnForW40H20" ,spnCount:1};
row716={firstInRow:716, lastInRow:786};
								 List701T716= [[10,10,10,10,10,10,10,10,10],row701,row702,row703,row704,row705, row716];
								 
row801=	{firstInRow:801, lastInRow:805, lft:1065, tp:270,textRotate:"textNotRotated",  cellClass:"W25H40", uLstClass:"UlClass",divClass:"notRotatedDiv"};							 
row811=	{firstInRow:811, lastInRow:815};
                 List801T811=[[1,1,1,1,1,1],row801,row811];
								 
row821=	{firstInRow:821, lastInRow:826, lft:1040, tp:515,textRotate:"textNotRotated", cellClass:"W25H40", uLstClass:"UlClass",divClass:"notRotatedDiv"};							 
row831=	{firstInRow:831, lastInRow:836};
row841=	{firstInRow:841, lastInRow:845};	
	                  List821T841=[[1,1,1,1,1,1],row821,row831,row841];
										
row901=	{firstInRow:901, lastInRow:905, lft:1065, tp:737, textRotate:"textNotRotated",cellClass:"W25H40", uLstClass:"UlClass",divClass:"notRotatedDiv"};							 
row911=	{firstInRow:911, lastInRow:915};										
row921=	{firstInRow:921, lastInRow:925};	
	                   List901T921=[[1,1,1,1,1,1,1],row901,row911,row921];
/*										 										
row1009={firstInRow:1009, lastInRow:1109, lft:410, tp:430,textRotate:"textNotRotated", cellClass:"W40H25", uLstClass:"UlClass",divClass:"RotatedM45Div"};
row1008={firstInRow:1008, lastInRow:1108};	
row1007={firstInRow:1007, lastInRow:1127};	
row1006={firstInRow:1006, lastInRow:1126};	
row1005={firstInRow:1005, lastInRow:1125};	
row1004={firstInRow:1004, lastInRow:1124};	
row1003={firstInRow:1003, lastInRow:1123};	
row1002={firstInRow:1002, lastInRow:1122};	
row1001={firstInRow:1001, lastInRow:1121};	

*/
row1008={firstInRow:1008, lastInRow:1088, lft:470, tp:400,textRotate:"textNotRotated", cellClass:"W40H25", uLstClass:"UlClass",divClass:"RotatedM45Div"};
row1007={firstInRow:1007, lastInRow:1087};	
row1006={firstInRow:1006, lastInRow:1086};	
row1005={firstInRow:1005, lastInRow:1085};	
row1004={firstInRow:1004, lastInRow:1084};	
row1003={firstInRow:1003, lastInRow:1083};	
row1002={firstInRow:1002, lastInRow:1082};	
row1001={firstInRow:1001, lastInRow:1081};	


                   List1009T1101= [[20,20,20,20,20,20,20,20,20], row1008,row1007,row1006,row1005,row1004,row1003,row1002,row1001];
	
//row937={firstInRow:937, lastInRow:974, lft:650, tp:645, textRotate:"textNotRotated",cellClass:"W40H25", uLstClass:"UlClass",divClass:"RotatedM45Div"};  // last was 982
row937={firstInRow:937, lastInRow:974, lft:650, tp:610, textRotate:"textNotRotated",cellClass:"W40H25", uLstClass:"UlClass",divClass:"RotatedM45Div"};  // last was 982
row936={firstInRow:936, lastInRow:973};// was 981
row935={firstInRow:935, lastInRow:972};
row934={firstInRow:934, lastInRow:971};
row933={firstInRow:933, lastInRow:962};
//row932={firstInRow:932, lastInRow:961};
//row931={firstInRow:931, lastInRow:941};
            List937T931=[[10,9,10,8,8], row937,row936,row935,row934,row933];   //,row932,row931]

								 
row851=	{firstInRow:851, lastInRow:863, lft:550, tp:420, textRotate:"textRotatedM90",cellClass:"W22H37", uLstClass:"UlClass",divClass:"RotatedM315Div"};							 
                    List851= [[1,1,1,1,1,1,1,1,1,1,1,1,1],row851];
 

    ListArray1 = [List701T716,List801T811,List821T841,List901T921,List1009T1101,List937T931,List851];

	
// --------------------------------OOLAM RASHI------------------------------------------------------------------	

/*
row641 = {firstInRow:641, lastInRow:681, lft:310, tp:280,textRotate:"textNotRotated", cellClass:"W50H20", uLstClass:"UlClass",divClass:"notRotatedDiv"};			
row642 = {firstInRow:642, lastInRow:682};	
row643 = {firstInRow:643, lastInRow:683};
row644 = {firstInRow:644, lastInRow:684};
row645 = {firstInRow:645, lastInRow:685};
row646 = {firstInRow:646, lastInRow:686};
row647 = {firstInRow:647, lastInRow:687};
row648 = {firstInRow:648, lastInRow:688};
row649 = {firstInRow:649, lastInRow:689};
row650 = {firstInRow:650, lastInRow:690};
row651 = {firstInRow:651, lastInRow:691};
            List681T691=[[20,20,20],row641,row642,row643,row644,row645,row646,row647,row648,row649,row650,row651];
 */
 
 /*
row681 = {firstInRow:681, lastInRow:681, lft:310, tp:280,textRotate:"textNotRotated", cellClass:"W50H20", uLstClass:"UlClass",divClass:"notRotatedDiv"};			
row682 = {firstInRow:682, lastInRow:682};	
row683 = {firstInRow:683, lastInRow:683};
row684 = {firstInRow:684, lastInRow:684};
row685 = {firstInRow:685, lastInRow:685};
row686 = {firstInRow:686, lastInRow:686};
row687 = {firstInRow:687, lastInRow:687};
row688 = {firstInRow:688, lastInRow:688};
row689 = {firstInRow:689, lastInRow:689};
row690 = {firstInRow:690, lastInRow:690};
row691 = {firstInRow:691, lastInRow:691};
            List681T691=[[20,20,20],row681,row682,row683,row684,row685,row686,row687,row688,row689,row690,row691];
 
*/ 

row681 = {firstInRow:681, lastInRow:691, lft:210, tp:385,textRotate:"textRotatedM90Special", cellClass:"W20H50", uLstClass:"UlClass",divClass:"Rotated90Div"};			
  List681T681=[[1,1,1,1,1,1,1,1,1,1,1,1],row681];
 
/* 
row391 = {firstInRow:391, lastInRow:581, lft:510, tp:280,textRotate:"textNotRotated", cellClass:"W50H20", uLstClass:"UlClass",divClass:"notRotatedDiv"};	
row392 = {firstInRow:392, lastInRow:582};
row393 = {firstInRow:393, lastInRow:583};
row394 = {firstInRow:394, lastInRow:584};
row395 = {firstInRow:395, lastInRow:585};
row396 = {firstInRow:396, lastInRow:586};
row397 = {firstInRow:397, lastInRow:587};
row398 = {firstInRow:398, lastInRow:588};
spn579={spn:"spn",  spnClass:"spnForW50H20",spnCount:1};
row579 = {firstInRow:579, lastInRow:589};
spn590={spn:"spn",  spnClass:"spnForW50H20",spnCount:2};
row590 = {firstInRow:590, lastInRow:590};
row591 = {firstInRow:591, lastInRow:591};
spn391={spn:"spn",  spnClass:"spnForW50H20"};
*/
row391 = {firstInRow:391, lastInRow:661, lft:400, tp:280,textRotate:"textNotRotated", cellClass:"W50H20", uLstClass:"UlClass",divClass:"notRotatedDiv"};	
row392 = {firstInRow:392, lastInRow:662};
row393 = {firstInRow:393, lastInRow:663};
row394 = {firstInRow:394, lastInRow:664};
row395 = {firstInRow:395, lastInRow:665};
row396 = {firstInRow:396, lastInRow:666};
row397 = {firstInRow:397, lastInRow:667};
row398 = {firstInRow:398, lastInRow:668};
spn579={spn:"spn",  spnClass:"spnForW50H20",spnCount:1};
row579 = {firstInRow:579, lastInRow:669};
spn590={spn:"spn",  spnClass:"spnForW50H20",spnCount:2};
row590 = {firstInRow:590, lastInRow:670};
row591 = {firstInRow:591, lastInRow:671};
spn391={spn:"spn",  spnClass:"spnForW50H20"};

              List391T591 = [[180,10,20,60],row391,row392,row393,row394,row395,row396,row397,row398,spn579,row579,
							               spn590,row590,spn590,row591];
 
 row301 = {firstInRow:301, lastInRow:371, lft:530, tp:16,textRotate:"textNotRotated", cellClass:"W50H20", uLstClass:"UlClass",divClass:"notRotatedDiv"};
 row302 = {firstInRow:302, lastInRow:372};
 row303 = {firstInRow:303, lastInRow:373};
 row304 = {firstInRow:304, lastInRow:374};
 row305 = {firstInRow:305, lastInRow:375};
 spn316={spn:"spn",  spnClass:"spnForW50H20",spnCount:1};
 row316 = {firstInRow:316, lastInRow:376};
              list301T316=[[10,10,10,10,10,10,10,10],row301,row302,row303,row304,row305,spn316,row316];
 
  
 row401 = {firstInRow:401, lastInRow:405, lft:1030, tp:230,textRotate:"textNotRotated", cellClass:"W22H37", uLstClass:"UlClass",divClass:"notRotatedDiv"};
 row411 = {firstInRow:411, lastInRow:416};
 row421 = {firstInRow:421, lastInRow:426};
 row431 = {firstInRow:431, lastInRow:436};
 row441 = {firstInRow:441, lastInRow:446};
 row451 = {firstInRow:451, lastInRow:456};
 row471 = {firstInRow:471, lastInRow:476};
 row491 = {firstInRow:491, lastInRow:496};
 row511 = {firstInRow:511, lastInRow:516};
 row541 = {firstInRow:541, lastInRow:547};
                List401T541=[[1,1,1,1,1,1,1,1,1],
								              row401,row411,row421,row431,row441,row451,row471,row491,row511,row541];
 
 
 row461 = {firstInRow:461, lastInRow:467, lft:598, tp:485,textRotate:"textNotRotated", cellClass:"W22H37", uLstClass:"UlClass",divClass:"notRotatedDiv"};
 row481 = {firstInRow:481, lastInRow:488};
 row501 = {firstInRow:501, lastInRow:510};
 row521 = {firstInRow:521, lastInRow:532};
 row548 = {firstInRow:548, lastInRow:565};
               List461T548=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],row461,row481,row501,row521,row548];
							 
 row381={firstInRow:381, lastInRow:382, lft:930, tp:230,textRotate:"textRotated90", cellClass:"W22H37", uLstClass:"UlClass",divClass:"RotatedM135Div"};
               List381=[[1,1],row381];


   ListArray2=[List681T681,List391T591,list301T316,List401T541,List461T548,List381];
 
// -----------EZRAT NASHIM-----------------------------------------------------------------
 
 row111 = {firstInRow:111, lastInRow:141, lft:70, tp:280,textRotate:"textNotRotated", cellClass:"W50H20", uLstClass:"UlClass",divClass:"notRotatedDiv"};	
 row112 = {firstInRow:112, lastInRow:161};
 row113 = {firstInRow:113, lastInRow:162};
 row114 = {firstInRow:114, lastInRow:163};
 spn164={spn:"spn",  spnClass:"spnForW50H20",spnCount:4};
 row164 = {firstInRow:164, lastInRow:164};
              List111T164=[[10,10,10,19,1],row111, row112,row113,row114,spn164,row164];
 
 
 
 row115 = {firstInRow:115, lastInRow:165,lft:70, tp:400,textRotate:"textNotRotated", cellClass:"W50H20", uLstClass:"UlClass",divClass:"notRotatedDiv" };
 row116 = {firstInRow:116, lastInRow:166};
 row117 = {firstInRow:117, lastInRow:147};
             List115T117=[[10,10,10,20,1],row115,row116,row117];
 
 row118 = {firstInRow:118, lastInRow:167,lft:70, tp:471,textRotate:"textNotRotated", cellClass:"W50H20", uLstClass:"UlClass",divClass:"notRotatedDiv" };
 spn129= {spn:"spn",  spnClass:"spnForW50H20",spnCount:1};
 row129 = {firstInRow:129, lastInRow:168};
 spn140={spn:"spn",  spnClass:"spnForW50H20",spnCount:2};
 row140 = {firstInRow:140, lastInRow:169};
 spn151={spn:"spn",  spnClass:"spnForW50H20",spnCount:3};
 row151 = {firstInRow:151, lastInRow:170};
 spn171={spn:"spn",  spnClass:"spnForW50H20",spnCount:4};
 row171 = {firstInRow:171, lastInRow:171};
 spn172={spn:"spn",  spnClass:"spnForW50H20",spnCount:4};
 row172 = {firstInRow:172, lastInRow:172};	
 spn173={spn:"spn",  spnClass:"spnForW50H20",spnCount:4};
 row173 = {firstInRow:173, lastInRow:173}
	            List111T173=[[10,10,10,19,1],row118,spn129,row129,spn140,row140,spn151,row151,spn171,row171,
							       spn172,row172,spn173,row173];
	
 
 //---
 spn91={spn:"spn",  spnClass:"spnForW50H20",spnCount:1, lft:190, tp:20,textRotate:"textNotRotated", cellClass:"W50H20", uLstClass:"UlClass",divClass:"notRotatedDiv"};
 row91 = {firstInRow:91, lastInRow:101};
 row81 = {firstInRow:81, lastInRow:102};
 row82 = {firstInRow:82, lastInRow:103};
 row83 = {firstInRow:83, lastInRow:104};
 spn105={spn:"spn",  spnClass:"spnForW50H20",spnCount:2};
 row105 = {firstInRow:105, lastInRow:105};
                List91T105=[[11,10,1],spn91,row91, row81,row82,row83,spn105,row105]; 
	
// ----

 row51 = {firstInRow:51, lastInRow:62, lft:450, tp:20,textRotate:"textNotRotated", cellClass:"W22H37", uLstClass:"UlClass",divClass:"notRotatedDiv"};
 spn71={spn:"spn",  spnClass:"spnForW22H37",spnCount:1};
 row71 = {firstInRow:71, lastInRow:75};
                 List51T71=[[1,1,1,1,1,1,1,1,1,1,1,1],row51,spn71,row71];

 row76 = {firstInRow:76, lastInRow:79,lft:474, tp:70,textRotate:"textNotRotated", cellClass:"W22H37", uLstClass:"UlClass",divClass:"notRotatedDiv"};
                 List76=[[1,1,1,1,1],row76];
								 
//-------

 row31 = {firstInRow:31, lastInRow:34, lft:820, tp:20,textRotate:"textNotRotated", cellClass:"W22H37", uLstClass:"UlClass",divClass:"notRotatedDiv"};
								 List31=[[1,1,1,1],row31];
//--------

 row1 = {firstInRow:1, lastInRow:1, lft:920, tp:20,textRotate:"textNotRotated", cellClass:"W50H20", uLstClass:"UlClass",divClass:"notRotatedDiv"};
 row2 = {firstInRow:2, lastInRow:2};
 row3 = {firstInRow:3, lastInRow:3};
 row4 = {firstInRow:4, lastInRow:4};
 row5 = {firstInRow:5, lastInRow:5};
 row6 = {firstInRow:6, lastInRow:6};
 row7 = {firstInRow:7, lastInRow:7};
 row8 = {firstInRow:8, lastInRow:8};
 row9 = {firstInRow:9, lastInRow:21};
 row10 = {firstInRow:10, lastInRow:22};
 row11 = {firstInRow:11, lastInRow:23};
 row12 = {firstInRow:12, lastInRow:24};
 row13 = {firstInRow:13, lastInRow:25};
 row14 = {firstInRow:14, lastInRow:26};
 row15 = {firstInRow:15, lastInRow:27};
                 List1T15=[[12,1],row1,row2,row3,row4,row5,row6,row7,row8,row9,row10,row11,row12,row13,row14,row15];

//-----------

 row221 = {firstInRow:221, lastInRow:227, lft:550, tp:500,textRotate:"textNotRotated", cellClass:"W22H37", uLstClass:"UlClass",divClass:"notRotatedDiv"};
 row241 = {firstInRow:241, lastInRow:247};
 row261 = {firstInRow:261, lastInRow:277};
                 List221T261=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],row221,row241,row261];
								 
 row228 = {firstInRow:228, lastInRow:234, lft:574, tp:500,textRotate:"textNotRotated", cellClass:"W22H37", uLstClass:"UlClass",divClass:"notRotatedDiv"};
 row248 = {firstInRow:248, lastInRow:255};
                 List228T248=[[1,1,1,1,1,1,1,1,1],row228,row248];
	
	
/*								 								 
 row181 = {firstInRow:181, lastInRow:211, lft:320, tp:490,textRotate:"textNotRotated", cellClass:"W50H20", uLstClass:"UlClass",divClass:"RotatedM45Div"};
 row182 = {firstInRow:182, lastInRow:212};
 spn203={spn:"spn",  spnClass:"spnForW50H20",spnCount:2};
 row203 = {firstInRow:203, lastInRow:213};
 spn204={spn:"spn",  spnClass:"spnForW50H20",spnCount:2};
 row204 = {firstInRow:204, lastInRow:204}
                 List181T204=[[10,10,10,10],row181,row182,spn203,row203,spn204,row204];
*/	


spn181={spn:"spn",  spnClass:"spnForW22H37",spnCount:2, lft:370, tp:450,textRotate:"textRotatedM90",cellClass:"W22H37", uLstClass:"UlClass",divClass:"RotatedM315Div"};
row181={firstInRow:181, lastInRow:182};
spn191={spn:"spn",  spnClass:"spnForW22H37",spnCount:2};
row191={firstInRow:191, lastInRow:192};
row201={firstInRow:201, lastInRow:204};
spn211={spn:"spn",  spnClass:"spnForW22H37",spnCount:1};
row211={firstInRow:211, lastInRow:213};
  List181T211=[[1,1,1,1],spn181,row181,spn191,row191,row201,spn211,row211];

							 								 
 row41 = {firstInRow:41, lastInRow:43, lft:820, tp:140,textRotate:"textRotatedM90", cellClass:"W22H37", uLstClass:"UlClass",divClass:"RotatedM315Div"};
								 List41=[[1,1,1],row41];
 

  ListArray3=[List111T164,List115T117,List111T173,List91T105,List51T71,List76,List31,List1T15,List221T261,List228T248,
	             List181T211,List41];
	
/* ----------------------------------------------------------------------------------------	

var shurot=[   //shura starts at seat number, ends at seat number, belongs to eizor
             [1,15,'a'],       // ezrat nashim
						 [21,27,'a'],
						 [31,34,'b'],
						 [41,43,'c'],
						 [51,62,'d'],
						 [71,79,'d'],
						 [81,83,'e'],
						 [91,94,'e'],
						 [101,105,'e'],
						 [111,114,'f'], 
						 [115,118,'f'],
						 [121,124,'f'],
						 [125,129,'f'],
						 [131,134,'f'],
						 [135,140,'f'],
						 [141,144,'f'],
						 [145,151,'f'],
						 [161,166,'f'],
						 [167,173,'f'],
						 [181,182,'g'],
						 [191,192,'g'],
						 [201,204,'g'],
						 [211,213,'g'],
						 [221,227,'h'],
						 [228,234,'h'],
						 [241,247,'h'],
						 [248,255,'h'],
						 [261,267,'h'],
						 [268,268,'h'],
						 [269,277,'h'],
						 [301,305,'i'],     // ulam rashi
						 [311,316,'i'],
						 [321,326,'i'],
						 [331,336,'i'],
						 [341,346,'i'],
						 [351,356,'i'],
						 [361,366,'i'],
						 [371,376,'i'],
						 [381,382,'u'],
						 [401,405,'j'],
						 [411,416,'j'],
						 [421,426,'j'],
						 [431,436,'j'],
						 [441,446,'j'],
						 [451,456,'j'],
						 [471,476,'j'],
						 [491,496,'j'],
						 [511,516,'j'],
						 [541,546,'j'],
						 [547,547,'jk'],
						 [461,467,'k'],
						 [481,488,'k'], 
						 [501,510,'k'],
						 [521,532,'k'],
						 [548,565,'k'],
						 [391,398,'l'],
						 [571,579,'l'],
						 [581,591,'l'],
						 [601,611,'l'],
						 [661,671,'m'],
						 [681,691,'m'],
						 [701,705,'n'],    // martef
						 [711,716,'n'],
						 [721,726,'n'],
						 [731,736,'n'],
						 [741,746,'n'],
						 [751,756,'n'],
						 [761,766,'n'],
						 [771,776,'n'],
						 [781,786,'n'],
						 [801,805,'o'],
						 [811,815,'o'],
						 [821,826,'p'],
						 [831,836,'p'],
						 [841,845,'p'],
						 [851,863,'t'],
						 [901,906,'q'],
						 [911,916,'q'],
						 [921,927,'q'],
						 [931,937,'r'],
						 [941,947,'r'],
						 [951,956,'r'],
						 [961,966,'r'],
						 [971,974,'r'],
					//	 [981,982,'r'],
						 [1001,1009,'s'],
						 [1021,1029,'s'],
						 [1041,1049,'s'],
						 [1061,1069,'s'],
						 [1081,1089,'s']
				//	, [1101,1109,'s'],
					//	 [1121,1127,'s']   
						 ];
						 
			*/			 

var shurot=[];

// ----------------------------------------------------------------------------------------	
var dataToSend = [ ['familyname=',''],      //0
                   ['&reqemail=',''],       //1
									 ['&reqPhone=',''],      //2
									 ['&reqaddress=',''],     //3
									 ['&menRosh=',''],        //4
									 ['&menKipur=',''],       //5
									 ['&womenRosh=',''],      //6
									 ['&womenKipur=',''],     //7
									 ['&reqminyanW=',''],     //8
									 ['&reqMinyanDataW=',''], //9
									 ['&reqminyanM=',''],     //10
									 ['&reqMinyanDataM=',''], //11
									 ['&RmoreComments=',''],  //12
									 ['&seatsString=',''],    //13
									 ['&tashlum=',''] ,       //14
									 ['&language=','']        //15
									        
									]; 
									
// ---------------------------pictures-------embedded from simcha's microsoft One Drive account----------------------------------------------------------------
var  ezrat_nashim_pic='https://2ugfcg-sn3301.files.1drv.com/y4mBeOdkaIFgL-gYvPvzq_FRDw5-LjOlyNGQ0zhuqDW4hNJIoqL0qZoLPQsWvoY7U-QSr3hHhzB9xa99iGE29wKsv6Faao6MeiVf0qoNZZIbdvXcXrPU2ZVaGiJGbmqn1koi7IySvNNw_Ifkno8i2AFn6cUG8dgkeSt-zuwSICNyuTgTGFPzNyaRjWg3VUY4g5lSNSXt87SBC8dUb7nJ_oFGg';
var martef_pic001='https://q0z75q-ch3301.files.1drv.com/y4mrGdKoV4EOFYWhbnuI0cJa_k5-EWJQp4tg2mi5-WlYpsWRArGL9c8H0M2eepMkQLBGQ_SnJFVWP0RoP53x_YL68YS0Akfg8JQZY3WlLUz0bRjeLCeNUNOGhkxbdYog28KC_3uiAf1c3D5i0PAyX_l8MPmQhiF2LOAH8UxJ1wMEw4iOSkIIDYT2N_7tYv2_AP8mvfaszT08eh_s8iWlU5sdQ';									
var martef_pic002='https://q0ajqa-sn3301.files.1drv.com/y4mdcq7N6PKPsZMkb52cbHNjvToniAak0_yloPvh9aLY_hGxrxliC60N243oceCmS1SvTXoaeJplFaWakQNd-1xps5x4fw4qQa-f13gLZRRwjGWEu09DKVDx24Bxhijn9Lus2Og-qXPv-vsc_IJ6sQ1FrOhlxWSr0-zb6f_r4LMDD1GRv3ifZRmwbmIXO7cEsKeH5vDrSw8Mod9UDvIY7-QHg';
var martef_pic003='https://2ui65g-sn3301.files.1drv.com/y4mHGOkjIV32CdAO69JC9LdlZetuEVQop2EqLh2CfJqlc0DuHj-IAEPI5W5SUL2EwDE968cz4GWRAyUPtwhMWmb4wMqqtSlsIzc-lvpaua1Hpm3z4aGonat1QbwURuXo2uf5jFvuJvFBaTYmeL1LHrbGNwkj9t0maQlgClC2GLp3nn9Uw6wb_AkQIsJhQGXiBCsf_wJnqRgFzp7OjVFoRjcJw';
var merkazi1='https://2uieqq-sn3301.files.1drv.com/y4mzcc5ufyZP05s2XkFA9EUjqxN8d8PlfV0xpwG6e4r039oqHZVh19UKB4R4l3Ru8K_cIZZGuyCKCxOBCDtVVXqukxnL1Kc24pd_KqB9Juh_dqvxYfF4Axdijr10NQPEjK84WmzJSTWfSEREotnVkp8hy-vjEdJnk_ncpyWsg5fuvbG37SXDFeuD2fFhMQ9XkZps86obFRUvC87U_-as0uXwA';
var merkazi2='https://2uhvww-sn3301.files.1drv.com/y4mhqSP0p3XvoxW5hLJqpeZS47wJ4APgrqLlzH1g9mBodXKnEI7v8OwY2nMWVBZnLgUHL7uDYKhufNK-j_E-S4ZELQy9DgHMd4lm-MLruINyTvCvoUZjX7CAGp8PXmssZzshYm9Weh6RBvjarWDTYTFntnATj-7ODGcc0VrSoYqyqdEwHSao0Hpl8F3c_8sZiDnmSJidDq_W66LFfvN6OHwug';								

//-------------------------------------------------------------------------------------------------------------------								


var basePayment=1200;
 var paymentPerSeat=50;
 
 var Cancelling;

									
var toPrintCt;
var shiftKeyIsPressed=false;
var listOfIDs=new Array;
var registrationIsClosed=false;

var isCurrentLanguageHebrew=true;
var firstTimelanguageSetting=true;
var marqueeDirection='right';

var currentWarningID='';
var currentMarqueeID='';

var retrievedPayment=0;

var prtiDisplayed=false;

var emailPassDisplayed=false;
var emailPassCode='';

var firstPartOfURL ='http://server-seatselection.7e14.starter-us-west-2.openshiftapps.com:80';

warnings=[ 'oldAfterPaid','oldAfterToPay','oldBeforeAfterPaid','oldBeforeAfterToPay','oldBeforeBeforeToPay','newBefore','newAfter'];

// --------------------------------------------------------------------------



function deleteOldChildren(id){
   while (true) {
   elmnt=document.getElementById(id);
   if( !elmnt)break;
	 elmnt.parentNode.removeChild(elmnt);
	
	}	
	}	
// ---------------------------------------------------------------------------------
  function clear_listOfIDsDown(e){
	   if ( shiftKeyIsPressed)return; 
	     
	 
	   if(e.keyCode == 16){  // is it shift
		   listOfIDs=[];
			  
			 shiftKeyIsPressed=true;
			
		 }
}


function clear_listOfIDsUp(e){ 
	   if(e.keyCode == 16){  // is it shift
		
		   listOfIDs=[];
			shiftKeyIsPressed=false;
		 }
}
// ---------------------------------------------------------------------------------	
 function setRegistrationClosedHeader(){
 if (  currentWarningID ) return;
   url=encodeURI(firstPartOfURL+"/isRegistrationClosed");
   xhttp.open("GET", url, false);
              xhttp.send();
	            rspnsString = xhttp.responseText;
							registrationIsClosed=false;	
							tmp='newBefore';				
							if(rspnsString.substr(0,3)=='+++') {
							         tmp="newAfter";
											 registrationIsClosed=true;
											 };
									
							clearAndSetWarnings(tmp);			
														
	 }
	 			
	// ---------------------------------------------------------------------------------				
 
	function clearAndSetWarnings(idToset){
		for (i=0; i<warnings.length;i++)document.getElementById(warnings[i]).style.display='none';
		document.getElementById(idToset).style.display='block';
		
		currentWarningID=idToset;
		}
	
	//-----------------------------------------------------------------------------------var =[-
	
	function getShulConfig(){
	   url=encodeURI(firstPartOfURL+"/getShulConfig");
     xhttp.open("GET", url, false);
       xhttp.send();
	     rspnsString = xhttp.responseText;        
			 shurot=[];
			 var i;
       var tbl1=	rspnsString.split('$'); 
			 for (i=0;i<tbl1.length;i++){
			    tmp=tbl1[i].split('@');
					shurot[i]=new Array;
					shurot[i][0]=Number(tmp[0]);
					shurot[i][1]=Number(tmp[1]);
					shurot[i][2]=tmp[4];
			}				
	
	
	}
	// ---------------------------------------------------------------------------------  

function GenerateTables(){
document.onkeyup = clear_listOfIDsUp;
document.onkeydown = clear_listOfIDsDown;
 
	if(firstTimelanguageSetting){
	     firstTimelanguageSetting=false;
			 setCurrentLanguage();
			 }  

			 
	getShulConfig();	
			 
			 
  deleteOldChildren('kk'); // delete previous tables.
	
// creat cost table; If basePayment or paymentPerSeat are changed, make sure to change them in the form

 tRow=document.getElementById("costValues"); 
 var tDataChildren= tRow.getElementsByTagName('td');  
 for (i=1; i<tDataChildren.length; i++){  
     tDataChildren[i].innerHTML=basePayment+i*paymentPerSeat;
		 }

		 
		 
	setRegistrationClosedHeader();	
	
													             	

        //  set Years for baby birth date
	
	  var d = new Date();
    var thisYear = d.getFullYear(); 
		lastYear=thisYear-1;
		PrvYear=thisYear-2;
		document.myform.Reqyr.options[1]=new Option(thisYear);
		document.myform.Reqyr.options[2]=new Option(lastYear);
		document.myform.Reqyr.options[3]=new Option(PrvYear);
	 
	 document.myform.sbmt.disabled=false; 
	
	 toPrintCt=0;
	
		
		ReasonableAgeForBabiesInMartef=2*365;   // 2 years
		
		

		
		  ckBoxBaseElement=document.getElementById("hiddenDiv"); 
	
 //    ---------Martef---------------------------------------------------------------		
		
  LegendTextElement=document.getElementById("Hall1FrameTop"); 
  startingTop=getPosition(LegendTextElement);
	startingTop=startingTop.y;// alert("startingtop martef="+startingTop);
	
  MartefElement=document.getElementById("hall1");  
	
    for(ull=0; ull<ListArray1.length; ull++)  {
		 generate_list(ListArray1[ull],MartefElement,startingTop);}  
				
	 gensteps();
	 genPicture(MartefElement,martef_pic001,250,900,10,15,0,"hall1","Hall1FrameTop",'pic001'); 
	 genPicture(MartefElement,martef_pic002,170,170,800,300,45,"hall1","Hall1FrameTop",'pic002'); 
	 genPicture(MartefElement,martef_pic003,60,100,1000,140,45,"hall1","Hall1FrameTop",'pic003'); 
	 	
   adjustElementTop("Hall1FrameTop","drawing_1",170);
	 adjustElementTop("Hall1FrameTop","drawing_2",192);
	 adjustElementTop("Hall1FrameTop","knisa",55);
 
 	 adjustElementTop("Hall1FrameTop","mafrid1",215);
	 adjustElementTop("Hall1FrameTop","mafrid2",728);
	 adjustElementTop("Hall1FrameTop","mafrid3",244);



//------------------OOLAM RASHI--------------------------------------------------------
      LegendTextElement=document.getElementById("Hall2FrameTop"); 
     startingTop=getPosition(LegendTextElement);
	   startingTop=startingTop.y;  // alert("startingtop rashi="+startingTop);

     merkaziElement=document.getElementById("hall2"); 
	   for(ull=0; ull<ListArray2.length; ull++)  {
		           generate_list(ListArray2[ull],MartefElement,startingTop);} 
							 
						 	
			 genPicture(merkaziElement,merkazi1,170,170,800,260,45,"hall2","Hall2FrameTop",'m1pic'); 
	     genPicture(merkaziElement,merkazi2,80,135,1030,80,45,"hall2","Hall2FrameTop",'m2pic'); 
			 
			 adjustElementTop("Hall2FrameTop","drawing_3",15);
       adjustElementTop("Hall2FrameTop","mafrid4",565);
	     adjustElementTop("Hall2FrameTop","mafrid5",160);
			 adjustElementTop("Hall2FrameTop","knisa1",175); 
			 adjustElementTop("Hall2FrameTop","arrow1",160); 
			 adjustElementTop("Hall2FrameTop","knisa2",660); 
			 adjustElementTop("Hall2FrameTop","arrow2",560); 
			 
//--------------------------EZRAT NASHIM----------------------------------------
     LegendTextElement=document.getElementById("Hall3FrameTop"); 
     startingTop=getPosition(LegendTextElement);
	   startingTop=startingTop.y;  // alert("startingtop nashim="+startingTop);

     nashimElement=document.getElementById("hall3"); 
			for(tb=0; tb<ListArray3.length; tb++)  { 
		    generate_list(ListArray3[tb],nashimElement,startingTop);}
				
		 adjustElementTop("Hall3FrameTop","drawing_4",20);
     adjustElementTop("Hall3FrameTop","knisa3",140);
		 adjustElementTop("Hall3FrameTop","arrow3",140); 
     adjustElementTop("Hall3FrameTop","drawing_5",269);
		 adjustElementTop("Hall3FrameTop","drawing_6",446); 
  	 adjustElementTop("Hall3FrameTop","knisa4",400); 
		 adjustElementTop("Hall3FrameTop","arrow3",140); 
		 adjustElementTop("Hall3FrameTop","arrow4",400);
		 
		 genPicture(nashimElement,ezrat_nashim_pic,400,260,460,165,0,"hall3","Hall3FrameTop",'nashimpic');
	
	
	if (document.myform.seatsString.value)reconstructSeats(document.myform.seatsString.value);
	document.getElementById('fmName').focus();
	   
//-----------------------------------------------------------------------------------------

 function generate_list(LLst,baseElement,startingTop) {
 
  var divE     = document.createElement("div");
	divE.setAttribute("id","kk");
	generateUl=true;
  // creating all cells
	  for (rownum=1; rownum<LLst.length; rownum++) {
    // creates a list 
		 if (generateUl ) { var ulst= document.createElement("ul");
				 k=0;  
				    }
		if(notASpan(LLst[rownum]) )   { 
    strt=LLst[rownum].firstInRow;
		endd=LLst[rownum].lastInRow;   
		 j=strt;
		  while ( j<=endd){
      var cell = document.createElement("li");
			var textSpan = document.createElement("span");
			textSpan.className=LLst[1].textRotate;
		 textSpan.innerHTML='&nbsp';
			
		 //	textSpan.innerHTML=(j).toString();  
			cell.appendChild(textSpan);  
     
			inh=j.toString(); 
      pid='c'+inh+'_p'; 
  
 	     cell.onclick=clk;   
			cell.onmouseover=mouseOver;     
      cell.setAttribute("id", pid);
      cell.className=LLst[1].cellClass;	
				 
	
			ulst.appendChild(cell); 
    	j=j+LLst[0][k];
			k++;
			if (k>100)return;
			generateUl=true;
    }}
		else {
		  for(spncnt=0; spncnt < LLst[rownum].spnCount; spncnt++){
		  spn=document.createElement("span");
      spn.className=LLst[rownum].spnClass; 
   		ulst.appendChild(spn);
			k++;   if (k>100)return;
			    }
			generateUl=false;;
         };
	 ulst.className+= LLst[1].uLstClass;
	 divE.appendChild(ulst);
	}
	
   divE.className=LLst[1].divClass;
	baseElement.appendChild(divE);
	llfft=(LLst[1].lft).toString()+"px"; 
	baseElement.lastChild.style.left=llfft;
	t1=(LLst[1].tp+startingTop).toString()+"px"; 
	 baseElement.lastChild.style.top=t1;   
  
}

function notASpan(list) { 
   if (list.spn=="spn")
            return false;
     else 
            return true;
}

//----------------------------------------------------------------------------
function mouseOver(e){
if(e.shiftKey){
    var div_id = this.id;
		if(listOfIDs.indexOf(div_id) != -1) return;
		listOfIDs.push(div_id); 
		shiftKeyApplied=false;
		ctrlKeyApplied=false;
		markIt (div_id,shiftKeyApplied,ctrlKeyApplied);
		}
}


//--------------------------------------------------------------------------
function clk(e){

    var div_id = this.id;
		
		shiftKeyApplied=false;
		ctrlKeyApplied=false;
		if(e.shiftKey) shiftKeyApplied=true;
    if(e.ctrlKey) ctrlKeyApplied=true;
    markIt (div_id,shiftKeyApplied,ctrlKeyApplied);
		}


function markIt (div_id,shiftKeyApplied,ctrlKeyApplied) {  

            var strArray = new Array;
  	
			      seatStr=delLeadingBlnks(document.myform.seatsString.value);
						seatR=div_id.split("_")[0].substr(1); 
						 
			     strArray=[];
					 
					 
					 	if (seatStr) {
						strArray=seatStr.split('+');
						fnd=false;
						for (jj=0; jj<strArray.length;jj++){
						   seatI=strArray[jj].split('_')[0];  
							 if (seatI==seatR){vluu=strArray[jj].split('_')[1]; fnd=true; break;};
							 }
							 if (! fnd)vluu='0';
				}	
		else	vluu='0';	
	
	switch 	(vluu) {  
				     case "0": changeValueTo='1';
								 	     changeBackgroundTo="red";
											 break;		 
													 
				     case "1": changeValueTo='2';
									  	 changeBackgroundTo='coral'; 
											 break;  
												
				   	case "2": changeValueTo='3';
									  	changeBackgroundTo="pink";
											break;
													
				  	case "3":	changeValueTo='0';
									  	changeBackgroundTo="white";	
										  break;																		 
												          };
	// creat list of seats to apply click to
	
	var seatsToApplyClickTo=[seatR];    // no shift or ctrl - the only seat to apply click to
	if (shiftKeyApplied || ctrlKeyApplied){
	 seatsToApplyClickTo=[];
	 sourceSeat=Number(seatR);  
	 ezor='';
	 rowFound=false;
	for(i=0;i<shurot.length;i++){   // find all rows to apply click to
		  if( (ezor != shurot[i][2]) && (! rowFound) ){
		                firstRowOfEzor=i;
										ezor=shurot[i][2];
										}
		
		if ( (sourceSeat >= shurot[i][0]) && (	sourceSeat <= shurot[i][1])  )	{   //  if in row  
		         rowFound=true;  
						 lastRowOfEzor=i; 
					   if (	shiftKeyApplied) { firstRowOfEzor=i;   }
						 else{
								    for (j=i+1;j<shurot.length;j++){if (shurot[j][2]==ezor)lastRowOfEzor=j;   }
										}
						} //   end if in row				
		  } // end of 'get rows to apply to' 
		if( ! rowFound)console.log('errr');	 
		
					
	 for ( i=firstRowOfEzor;  i<=lastRowOfEzor; i++)  // loop on row in ezor
	      for  (j=shurot[i][0]; j<=shurot[i][1];j++) {
				        cellId='c'+(j.toString())+'_p'; 
			          cell_element=document.getElementById(cellId); 
				        if ( cell_element) seatsToApplyClickTo.push(Number(j));
				          }
				
	} // end building list of seats
	
	
	
	for(i=0;i<seatsToApplyClickTo.length;i++){   // apply to all the seats in list
	   fnd=false;
		 addToArray=false;
		  seatR=seatsToApplyClickTo[i];
		 for (jj=0; jj<strArray.length;jj++){
					seatJJ=strArray[jj].split('_')[0];
					   
							 if (seatJJ==seatR){vlue=strArray[jj].split('_')[1]; fnd=true; break;};
							 }
		     if (! fnd)vlue='0';
	       if(vluu=='3')vlue='x';
	    		switch 	(vlue) {  
				     case "0": 
								 	     strArray.push(seatR+'_'+changeValueTo);
											 break;		
						case 'x': 	
						          if(fnd) strArray.splice(jj,1);
											break;				  
													 
				     default: 
											 strArray[jj]=seatR+'_'+changeValueTo;
											 break;  
												
				   	         };
	
	          elmnt=document.getElementById('c'+seatR+'_p');
						spnchild=elmnt.firstChild; 
						textValue= changeValueTo; 				if(changeValueTo=='0')textValue='&nbsp'; 
						elmnt.style.background=changeBackgroundTo;  
			
						spnchild.innerHTML=textValue;
						
			} // end loop over all seats			
						
						document.myform.seatsString.value=strArray.join('+'); 
						if (document.myform.seatsString.value.substr(0,1)=='+')
						document.myform.seatsString.value=document.myform.seatsString.value.substr(1)
						
						 										
					}

//------------------------------------------------------------------------------------

function getPosition(element) {
    var xPosition = 0;
    var yPosition = 0;
  var kkk=0;
    while(element) {toPrint[toPrintCt]={k:kkk, offsttop:element.offsetTop, scrltp:element.scrollTop,cknttop:element.clientTop,nxtelmnt:element.offsetParent};
		                                      kkk++; toPrintCt++;
        xPosition += (element.offsetLeft - element.scrollLeft + element.clientLeft);
     //   yPosition += (element.offsetTop - element.scrollTop + element.clientTop);
		    yPosition += (element.offsetTop  + element.clientTop);
				
        element = element.offsetParent;  
			//	alert( 'offsettop='+element.offsetTop+' scrolltop='+element.scrollTop+' clienttop='+element.clientTop+' elmnt='+element);
    }
    return { x: xPosition, y: yPosition };
}


function gensteps(){
 var  Asteps1=document.getElementById("hall1");
  LegendTextElement=document.getElementById("Hall1FrameTop"); 
  tmpStartingTop=getPosition(LegendTextElement);
	tmpStartingTop=tmpStartingTop.y;
	deleteOldChildren("steps");
  for(j=0;j<2;j++){
	tempStartingLeft=295;
     for (i=0; i<100; i=i+10){
		   aStep= document.createElement("div");
			 aStep.setAttribute("id","steps");
			 Asteps1.appendChild(aStep);
			 Asteps1.lastChild.style.top=(tmpStartingTop+20).toString()+"px";
			 Asteps1.lastChild.style.left= (tempStartingLeft+100).toString()+"px";
			 Asteps1.lastChild.setAttribute("class", "steps1");
			 
			 tempStartingLeft+=15; 
			   }
		tmpStartingTop+=50;
		 };
			 
		} 
//----------------------------------------------------------------------------------
		
function genPicture(baseElement,sorc,wdth,hgt,lft,tp,rtt,hall_id,frameTopId,picId){
 deleteOldChildren(picId);
  MartefElement=document.getElementById(hall_id);
	LegendTextElement=document.getElementById(frameTopId); 
  startingTop=getPosition(LegendTextElement);
	startingTop=startingTop.y;
	startingTop1=startingTop+ tp;
	 var aPic= document.createElement("img");
	               
						    aPic.src=sorc; 
						 aPic.style.width=wdth+"px";
						 aPic.style.height=hgt+"px";
				 		 aPic.style.left = lft+ "px";
						 aPic.style.top = startingTop1 + "px";  
						 aPic.setAttribute("id",picId);  
				  	baseElement.appendChild(aPic);
						
					if(rtt!=0){
						  rotateIt= 'rotate('+ rtt.toString()+'deg)';
							baseElement.lastChild.style.webkitTransform = rotateIt;
						   baseElement.lastChild.style.transform = rotateIt;
                       };  
						  };
function adjustElementTop(LegendTextElement,element,tp){
           LTextElement=document.getElementById(LegendTextElement); 
           startingTopA=getPosition(LTextElement);
					 startingTopA=startingTopA.y; 
					 tmp1= document.getElementById(element);
					 tmp1.style.top=(startingTopA+tp)+"px";
	         tmp1.style.visibility='visible';
              };
	
}
  
//----------------------------------------------------------------------------------------------------------
		
		function Alert(dialog,focusOnId){
        var winW = window.innerWidth;  
        var winH = window.innerHeight; 
        var dialogoverlay = document.getElementById('dialogoverlay');
        var dialogbox = document.getElementById('dialogbox');
        dialogoverlay.style.display = "block";
        dialogoverlay.style.height = winH+"px";
        dialogbox.style.left = (winW/2) - (550 * .5)+"px";
        dialogbox.style.top = "100px";
        dialogbox.style.display = "block";
				if(isCurrentLanguageHebrew){document.getElementById('dialogboxbody').style='direction:rtl';}
				      else document.getElementById('dialogboxbody').style='direction:ltr';

    //    document.getElementById('dialogboxhead').innerHTML = "Acknowledge This Message";
        document.getElementById('dialogboxbody').innerHTML = dialog;
				document.getElementById('dialogboxfootLeft').innerHTML = '';
        document.getElementById('dialogboxfoot').innerHTML = '<button onclick="AlertOk(focusId)">OK</button>';
    }
	AlertOk = function(focusId){
		document.getElementById('dialogbox').style.display = "none";
		document.getElementById('dialogoverlay').style.display = "none";
		focusId.focus();
		
	}
// -----------------------------------------------------------------------------------------	
  
		function yesOrNo(dialog)		{
        var winW = window.innerWidth;  
        var winH = window.innerHeight; 
        var dialogoverlay = document.getElementById('dialogoverlay');
        var dialogbox = document.getElementById('dialogbox');
        dialogoverlay.style.display = "block";
        dialogoverlay.style.height = winH+"px";
        dialogbox.style.left = (winW/2) - (550 * .5)+"px";
        dialogbox.style.top = "100px";
        dialogbox.style.display = "block";
				
				if(isCurrentLanguageHebrew){document.getElementById('dialogboxbody').style='direction:rtl';}
				      else document.getElementById('dialogboxbody').style='direction:ltr';

        document.getElementById('dialogboxbody').innerHTML = dialog;
        document.getElementById('dialogboxfoot').innerHTML = '<button onclick="yesOrNo_yes()">&nbsp &nbsp &nbsp &nbsp כן</button>';
		    document.getElementById('dialogboxfootLeft').innerHTML = '<button onclick="yesOrNo_no()">לא &nbsp &nbsp &nbsp &nbsp &nbsp</button>';
    }
	 function yesOrNo_yes(func){
	
		document.getElementById('dialogbox').style.display = "none";
		document.getElementById('dialogoverlay').style.display = "none";
	   funcYes(); 
		}
		function yesOrNo_no(func){
		
		document.getElementById('dialogbox').style.display = "none";
		document.getElementById('dialogoverlay').style.display = "none";
    funcNo(); 
	}
// -------------------------------------------------------------------------------------

    function clearPrevsVlus(){
		
		setRegistrationClosedHeader();
		
		 emailPassCode='';
		// retrievedEmail='';
		 
		 
		 var prtiElmnt = document.getElementById("prti");
		 prtiElmnt.selectedIndex=0;
	   document.myform.reqemail.value='';  
		 document.myform.reqaddress.value='';
		 document.myform.reqPhone.value='';
		 document.myform.menRosh.value='';
		 document.myform.menkipur.value='';
		 document.myform.womenRosh.value='';
		 document.myform.womenkipur.value='';
		 
		 document.myform.reqExplanationW.value='';
		 document.myform.REQfamilyListW.value='';
		 document.myform.pitzulMishpachotW.value='';
		 
		 document.myform.reqExplanationM.value='';
		 document.myform.REQfamilyListM.value='';
		 document.myform.pitzulMishpachotM.value='';
		 
		 document.myform.RmoreComments.value='';
		 
		 var ele = document.getElementsByName("ReqminyanW");
     for(i=0;i<ele.length;i++)
      ele[i].checked = false;
			
			ele = document.getElementsByName("ReqminyanM");
			for(i=0;i<ele.length;i++)
      ele[i].checked = false;
			
			SimpleMinyanDisplayW();
			SimpleMinyanDisplayM();
		 
		 y = document.getElementById("yyr");
		 y.selectedIndex=0;
		 m = document.getElementById("mntth");
		 m.selectedIndex=0;
		 d = document.getElementById("ddy");
		 d.selectedIndex=0;
		
		if(document.myform.seatsString.value){
		 var stArray = new Array;
	   stArray = document.myform.seatsString.value.split('+');   
	   for(i=0; i<stArray.length; i++){
		  var vlu=stArray[i].split('_');
      cellId='c'+vlu[0]+'_p'; 
			cell_element=document.getElementById(cellId); 
		  cell_element.style.background="white";
			spnchild=cell_element.firstChild;	
			spnchild.innerHTML='&nbsp'; 
	}
			document.myform.seatsString.value='';
    }

}


// -----------------------------------------------------------------------------------------

   function ckNameRtrvVlus(){
	   var resArray = new Array;
		 retrievedPayment=0;
		 if(	document.myform.familyname.value != delLeadingBlnks(document.myform.familyname.value)){
	       	document.myform.familyname.value=delLeadingBlnks(document.myform.familyname.value);	
         };
				 if(   document.myform.familyname.value==''  ){ clearPrevsVlus();	return;};
		 
		 res= ckName(); 
		 
		 if(res.substr(0,3)=='---')return;
		  resArray=res.split('&');  // for (iii=0;iii<resArray.length;iii++) alert('iii='+iii+'    '+resArray[iii]);
		 if(document.hiddenForm.lastFamName.value != document.myform.familyname.value)clearPrevsVlus();
		 document.hiddenForm.lastFamName.value = document.myform.familyname.value;
		 
		 document.myform.menRosh.value=Number(resArray[3]);
		 document.myform.menkipur.value=Number(resArray[4]);
		 document.myform.womenRosh.value=Number(resArray[5]);
		 document.myform.womenkipur.value=Number(resArray[6]);
		 retrievedPayment=calcPayment();
		 
		 if(retrievedPayment==0 ){//first time, no previous data
			IDTodisplay='newBefore';
			 if(registrationIsClosed)IDTodisplay='newAfter';
			 clearAndSetWarnings(IDTodisplay);
		 	 return;  
			 }
		
		 document.myform.reqemail.value=delLeadingBlnks(resArray[0]);
		 document.hiddenForm.retrievedEmail.value=delLeadingBlnks(document.myform.reqemail.value);
		 document.myform.reqaddress.value=resArray[1];
		 document.myform.reqPhone.value=delLeadingBlnks(resArray[2]);
		 
		 document.myform.RmoreComments.value=resArray[11];
		  
//restore women selection	

		if(resArray[7] != 9){   // 9 means choice not made yet
		 document.myform.ReqminyanW[resArray[7]].checked=true; 
		
		 switch 	(resArray[7]) {  
				     				 
		  case "0":     // tinok
           var dt =new Array;  
					 if(delLeadingBlnks(resArray[8])) {  //date was input
					 
           dt= resArray[8].split('/');
					 y = document.getElementById("yyr");
					 y.selectedIndex=document.myform.Reqyr.options[1].value-dt[2]+1; 
      
			     m = document.getElementById("mntth");
					 m.selectedIndex=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(dt[1])+1;
					   					
					 d = document.getElementById("ddy");
					 d.selectedIndex=dt[0]-document.myform.Reqddy.options[1].value+1;
					 }  else{     //no date
					     y.selectedIndex=0;
							 m.selectedIndex=0;
							 d.selectedIndex=0;
							  }
							      
           BabyMinyan();
					 break;
      case "3":     // siba
			     document.myform.reqExplanationW.value=resArray[8];
					 sibaMinyanW();
					 break;
			case "4":     // mishpachot
			     document.myform.REQfamilyListW.value=resArray[8];
					 mishpMinyanW();
					 break;
			case "5":         // pitzul
			     document.myform.pitzulMishpachotW.value=resArray[8];
					 pitzulMinyanW();		 	 
            }
     }
	  
//restore men selection		 
		if(resArray[9] != 9){   // 9 means choice not made yet
		 document.myform.ReqminyanM[resArray[9]].checked=true; 
		
		 switch 	(resArray[9]) {  
				     	
					 
      case "3":     // siba
			     document.myform.reqExplanationM.value=resArray[10];
					 sibaMinyanM();
					 break;
			case "4":     // mishpachot
			     document.myform.REQfamilyListM.value=resArray[10];
					 mishpMinyanM();
					 break;
			case "5":         // pitzul
			     document.myform.pitzulMishpachotM.value=resArray[10];
					 pitzulMinyanM();		 	 
            }

		}			
			
			
			
			
			str1=delLeadingBlnks(resArray[12]);
     	if(str1)	{
			      	reconstructSeats(	str1);
							document.myform.seatsString.value=str1;
		             }
	
	// setting warning (if any) for an existing request
	
	paid=		 Number(delLeadingBlnks(resArray[17])); 
	hadToPay= Number(delLeadingBlnks(resArray[16])); 
	stillToPay=hadToPay- paid;    
	if (stillToPay < 0 )stillToPay=0; // no warning for over paid
	existingRequestAfterClosing=delLeadingBlnks(resArray[13]);   
	
	
		if (registrationIsClosed){
		  if(existingRequestAfterClosing){
			  if( ! stillToPay){IDTodisplay='oldAfterPaid'} else IDTodisplay='oldAfterToPay';
				                      }
					   else		{
						     if( ! stillToPay){IDTodisplay='oldBeforeAfterPaid'} else IDTodisplay='oldBeforeAfterToPay';											
		                 }
	           }
				else {   //registraion not closed yet
				    if( ! stillToPay){IDTodisplay='newBefore';} else IDTodisplay='oldBeforeBeforeToPay';
				        
								};
				clearAndSetWarnings(IDTodisplay);
				 						 
								 
							
		 								 
}

// --------------------------------------------------------------------------------

function reconstructSeats(str){
  var stArray = new Array;
	
			  
	stArray = str.split('+');
	if(stArray[0].indexOf('_')==-1)return;   
	  for(i=0; i<stArray.length; i++){
		  var vlu=stArray[i].split('_');
   
      cellId='c'+vlu[0]+'_p'; 
			cell_element=document.getElementById(cellId); 
	
			
			spnchild=cell_element.firstChild;	
			
			switch 	(vlu[1]) {  
				     				 
				     case "1":  
									  	 cell_element.style.background='red'; 
											 spnchild.innerHTML='1';
											 break;  
												
				   	case "2": 		 
									  	cell_element.style.background="coral";
											spnchild.innerHTML='2';
											break;
													
				  	case "3":	 
									  	cell_element.style.background="pink";	
											spnchild.innerHTML='3';
											break;		
																											 
													          }; 
																		
																		
			} 
			
	}
// -----------------------------------------------------------------------------------------	
	
			
// delete leading blanks

 function delLeadingBlnks (str){
     str1=str;    if (! str1)return str1;
		 while (str1.substr(0,1)==' '){str1= str1.substr(1); 	  if (! str1.length)break;}		
		 while (str1.substr(str1.length-1,1)==' '){str1= str1.substr(0,str1.length-1); 	  if (! str1.length)break;}		
	
		 return str1;
		 }


// -----------------------------------------------------------------------------------------	
    function ckName(){ 
		          nnn=document.myform.familyname.value;
							var prtiElmnt = document.getElementById("prti");
							
					if(prtiDisplayed) {
							if (prtiElmnt.selectedIndex != 0) {
					          nnn=nnn+' '+prtiElmnt.options[prtiElmnt.selectedIndex].value;
					          prtiElmnt.selectedIndex = 0;
										} 
						}				
					// "normalize" name to one blank seperator
					    nn1=nnn.split(/[ ,]+/);
					    nnn='';
							for (i=0; i<nn1.length; i++)   nnn=nnn+' '+nn1[i];  
					    document.myform.familyname.value=nnn.substr(1);
					
           		url=encodeURI(firstPartOfURL+"/famname/?"+document.myform.familyname.value);
							
							xhttp.open("GET", url, false);
              xhttp.send();
	            rspnsString = xhttp.responseText;  
							focusId=document.getElementById('fmName');
							tmp1= document.getElementById("prtitxt");
		                tmp1.style.display='none';	prtiDisplayed=false;						
							if(rspnsString.substr(0,3)=='---'){ // name not valid or incomplete
							firstNames=rspnsString.split('$'); 
							if(isCurrentLanguageHebrew){alertText="שם המשפחה לא רשום כחבר קהילה.אנא פנה לחבר הנהלה להכללתך ברשימה";}
							 else alertText='This surname was not recognized.  Please enter the surname in Hebrew as it appears in the membership list.  If it does not work, please contact one of the gabbaim.';
							  if ( ! firstNames[1]) { Alert(alertText,focusId);
	     			                           return rspnsString;}
								// first name required
								
								var selectList = document.getElementById("prti");
                var SLlength = selectList.options.length;
                for (i = 1; i < SLlength; i++) selectList.options[i] = null;
                    
							for (i=1; i<	firstNames.length; i++){
							  						document.myform.prti.options[i]=new Option(firstNames[i]);
														}
											tmp1= document.getElementById("prtitxt");
		                tmp1.style.display='inline';   prtiDisplayed=true;
										focusId=document.getElementById('prti');							 
            //          Alert('אנא השלם שם משפחה / שם פרטי',focusId);
										}  
										
										
										return rspnsString;
    }
// -----------------------------------------------------------------------------------------				

function displayPassCodeRequest() {
  var tmp1;

 tmp1= document.getElementById("emailPass");
 tmp1.style.display='inline-block';  
  emailPassDisplayed=true;
	} 
	
	
// -----------------------------------------------------------------------------------------	emailPassDisplayed   emailChangedWaitingForPassw			

function UnDisplayPassCodeRequest() {
 var tmp1;
 tmp1= document.getElementById("emailPass");
 tmp1.style.display='none';  
  emailPassDisplayed=false;
	} 
// -----------------------------------------------------------------------------------------						
		 
		 function emailChangedWaitingForPassw(){ 
		 if(isCurrentLanguageHebrew){alertText="המערכת ממתינה לסיסמא לשינוי כתובת המייל";}	
		        else alertText='waiting for PassCode input in order to change the email address';
						focusId=document.getElementById('passcode');
						Alert(alertText,focusId); 
						return false;
		}
// -----------------------------------------------------------------------------------------					
		function validateEmail() {
    var re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  
		 if(	document.myform.reqemail.value != delLeadingBlnks(document.myform.reqemail.value)){
	       	document.myform.reqemail.value=delLeadingBlnks(document.myform.reqemail.value);	
         };
		    
	  if (! document.myform.reqemail.value)return true;
		isValid= re.test(document.myform.reqemail.value);  
		focusId=document.getElementById('reqemail');
		if(isCurrentLanguageHebrew){alertText="כתובת המייל אינה חוקית";}	 else alertText='illegal mail address';
			if (! isValid ){Alert(alertText,focusId); return false;}
			if ( ( ! document.hiddenForm.retrievedEmail.value ) || (document.hiddenForm.retrievedEmail.value==document.myform.reqemail.value)  )return isValid;
			
			
			//  password is requied to change an existing email addr
			
			if (emailPassDisplayed){
			 
				url=encodeURI(firstPartOfURL+"/ckEmailCode/?"+document.myform.familyname.value+'$'+document.myform.passcode.value);
							
							xhttp.open("GET", url, false);
              xhttp.send();
	            rspnsString = xhttp.responseText; 
			       if (	rspnsString.substr(0,3) == '+++'){  // pass ok
					       UnDisplayPassCodeRequest();
							  
								document.hiddenForm.retrievedEmail.value='';  // will not block changes
								emailPassCode=document.myform.passcode.value;
				        return true;
								}
							else { // errors
							    UnDisplayPassCodeRequest();
						    errCode=rspnsString.substr(3,1);
								
								if(isCurrentLanguageHebrew){alertText="שגיאת מערכת. אנא הכנס שוב לדף ההרשמה";}	 else alertText='system error; Please re-enter to registration page';
                if (errCode == '3' )Alert(alertText,focusId); 
								
				 	    	if(isCurrentLanguageHebrew){alertText="תוקף הסיסמא פג. אנא הכנס שוב את כתובת המייל כדי שתשלח אליך סיסמא חדשה";}	
								  else alertText='passcode expired. please re-enter email addr to trigger a new password';
                focusId=document.getElementById('passcode');
						    if (errCode == '4' ){
								     UnDisplayPassCodeRequest();
										 document.myform.reqemail.value=document.hiddenForm.retrievedEmail.value;
										 Alert(alertText,focusId); 
						   	   }
								if(isCurrentLanguageHebrew){alertText="סיסמא שגויה. אנא הכנס  סיסמא נכונה";}	
								  else alertText='wrong passcode . please re-enter';
                focusId=document.getElementById('passcode');
						    if (errCode == '5' )Alert(alertText,focusId); 	
								displayPassCodeRequest();
								return false;
						}		
				    
			}
			
			
			
			url=encodeURI(firstPartOfURL+"/genCodeSendEmail/?"+document.myform.familyname.value);
							
							xhttp.open("GET", url, false);
              xhttp.send();
	            rspnsString = xhttp.responseText; 
			if (	rspnsString.substr(0,3) == '+++'){  // email sent to member		
			    
			    displayPassCodeRequest();
					return false;
					}
					else {
					   errCode=rspnsString.substr(3,1);
				 		if(isCurrentLanguageHebrew){alertText="שם משפחה שגוי. אנא הכנס שוב";}	 else alertText='illegal surname; Please re-enter';
            focusId=document.getElementById('fmName');
						if (errCode == '1' )Alert(alertText,focusId); 
						
						if(isCurrentLanguageHebrew){alertText="שגיאת מערכת. אנא הכנס שוב לדף ההרשמה";}	 else alertText='system error; Please re-enter to registration page';
            if (errCode == '2' )Alert(alertText,focusId); 
			   
				   return false;
				 }
				
}

// -----------------------------------------------------------------------------------------
	
		
	function ckPhone(){
	israel_3DigitPrefixes=['050','051','052','053','054','055','058','072','073','074','076','077','078','079']; 
	israelFixedLinesPrefixes=['02','03','04','08','09'];
		telNumber=document.myform.reqPhone.value;  
		 
		 validTel= true;
		 if(telNumber){
		        telNumber=delLeadingBlnks(telNumber);
		        document.myform.reqPhone.value=telNumber;
				           }		
		if ( ! telNumber.length) return true;	
		
		twoDigitPrfx=telNumber.substring(0, 2);
		if (israelFixedLinesPrefixes.indexOf(twoDigitPrfx)!=-1){   //two digit prefix
		   if ( telNumber.substring(2, 3)  != '-'){     // fix phone format
			       telNumber=telNumber.substring(0, 2)+'-'+telNumber.substring(2);
						                                   }
											}	
											
		threeDigitPrfx=telNumber.substring(0, 3);
		if (israel_3DigitPrefixes.indexOf(threeDigitPrfx)!=-1){   //three digit prefix
		   if ( telNumber.substring(3, 4)  != '-'){     // fix phone format
			       telNumber=telNumber.substring(0, 3)+'-'+telNumber.substring(3);
						                                   }
											}																				 
				
			document.myform.reqPhone.value=telNumber;
		 telLength=telNumber.length;
		 switch (telLength) {
		   
				case 11: //3 digit prefix
  	 		   telPrefix=telNumber.substring(0, 3); 
   		     if (israel_3DigitPrefixes.indexOf(telPrefix)==-1) validTel= false;  
				   if ( telNumber.substring(3, 4)  != '-') validTel= false;
				   if (isNaN(telNumber.substring(4)))	 validTel= false;																				 																								 
				   break;
			 case 10:   //fixed line
			     telPrefix=telNumber.substring(0, 2); 
   		     if (israelFixedLinesPrefixes.indexOf(telPrefix)==-1) validTel= false;  
			     if ( telNumber.substring(2, 3)  != '-') validTel= false;
				   if (isNaN(telNumber.substring(3)))	 validTel= false;	
					 break;
			 default: validTel= false;
			 
			 } 		 
					 	
						
		   
				focusId=document.getElementById('reqmobile');	
				if(isCurrentLanguageHebrew){alertText="מספר הטלפון  אינו חוקי";}	 else alertText='illegal phone number';																								
		if (!	 validTel) 	Alert(alertText,focusId);																									
   	return validTel;
	}
	
// -----------------------------------------------------------------------------------------		
		
		function ckAddress(){
	   RWord=	checkreservedWords(document.myform.reqaddress.value);
		 focusId=document.getElementById('reqaddress');	
		 if(isCurrentLanguageHebrew){alertText="מלים שגויות בשדה הכתובת"+"\n"+" בבקשה אל תשתמש בטקסט:";}	 else alertText='illegal characters, please do not use:';																								
   	 if 	(RWord!=-1	) { Alert(alertText+RWord,focusId); return false;};
      return true;
			}
			
// -----------------------------------------------------------------------------------------			
	
	function CkSeatsNumbers(){
	     function isValidSeatNumbers(s){
			   mxSeatsPerSubrequest=15;
	       validSeats=true;
				 if ((s < 0)||(s > mxSeatsPerSubrequest)){ validSeats=false;};
				 return validSeats;
				 }
				
				 if(isCurrentLanguageHebrew){alertText="אנא בדוק/בדקי את מספר הכסאות שרשמת";}	 else alertText='please check number of requested seats';																								
         focusId=document.getElementById('misparMekomot');	
			if ( 	!  (isValidSeatNumbers(document.myform.menRosh.value) &&  isValidSeatNumbers(document.myform.menkipur.value)
			     && isValidSeatNumbers(document.myform.womenRosh.value) &&  isValidSeatNumbers(document.myform.womenkipur.value)  )
					   )  {Alert(alertText,focusId);  return false; };
				pymnt=	calcPayment();						 
			if (  (retrievedPayment == 	basePayment)  && (pymnt 	== basePayment)		) { //first time and no request made
														Alert(alertText,focusId);  return false; };
									
				if ( (pymnt == 	basePayment) && ( ! Cancelling))	{ // is it a request to cancel registration?	
				
			        if(isCurrentLanguageHebrew){alertText="האם ברצונך לבטל את ההרשמה? (אם לא -אנא בדוק/בדקי את מספר הכסאות שרשמת)";}	
			         else alertText='Do you want to cancel the registration? - (if not -please check number of requested seats)';																								
					     funcYes=cancelRegistraion;
					     funcNo=retryInput;
							 yesOrNo(alertText);
							 return false;
							 };			
													
					return true;
					
		}
		
					
	//-------------
	function retryInput(){return}
	function cancelRegistraion(){
	  			Cancelling=true;
					ckValidity_1();
					}
					
					
										 			
	
// -----------------------------------------------------------------------------------------yesOrNo			
	  function  ckSibaW(){
		    RWord=	checkreservedWords(document.myform.reqExplanationW.value);
				focusId=document.getElementById('reqExplanationW');
						 if(isCurrentLanguageHebrew){alertText="מלים שגויות בהסבר הסיבה"+"\n"+" בבקשה אל תשתמש בטקסט:";}	 else alertText='illegal characters, please do not use:';																								
        	 if 	(RWord!=-1	) { Alert(alertText+RWord,focusId); return false;};
		       return true;   };	
					 
//---------------------------------------

 function  ckSibaM(){
		    RWord=	checkreservedWords(document.myform.reqExplanationM.value);
				focusId=document.getElementById('reqExplanationM');
				if(isCurrentLanguageHebrew){alertText="מלים שגויות בהסבר הסיבה"+"\n"+" בבקשה אל תשתמש בטקסט:";}	 else alertText='illegal characters, please do not use:';																								

	 if 	(RWord!=-1	) { Alert(alertText+RWord,focusId); return false;};
		       return true;   };							 												 
	
// -----------------------------------------------------------------------------------------			
   function ckMishpW(){
	      RWord=	checkreservedWords(document.myform.REQfamilyListW.value);
				focusId=document.getElementById('REQfamilyListW');
				if(isCurrentLanguageHebrew){alertText="מלים שגויות ברשימת המשפחות"+"\n"+" בבקשה אל תשתמש בטקסט:";}	 else alertText='illegal characters, please do not use:';																								
	 if 	(RWord!=-1	) { Alert(alertText+RWord,focusId); return false;};	
		    return true;
				}
				
//--------------------

 function ckMishpM(){
	      RWord=	checkreservedWords(document.myform.REQfamilyListM.value);
				focusId=document.getElementById('REQfamilyListM');
				if(isCurrentLanguageHebrew){alertText="מלים שגויות ברשימת המשפחות"+"\n"+" בבקשה אל תשתמש בטקסט:";}	 else alertText='illegal characters, please do not use:';																								
	 if 	(RWord!=-1	) { Alert(alertText+RWord,focusId); return false;};	
		    return true;
				}				
// -----------------------------------------------------------------------------------------		
    function ckPitzulW() {
		RWord=	checkreservedWords(document.myform.pitzulMishpachotW.value);
		focusId=document.getElementById('pitzulMishpachotW');
		if(isCurrentLanguageHebrew){alertText="מלים שגויות בהסבר הפיצול"+"\n"+" בבקשה אל תשתמש בטקסט:";}	 else alertText='illegal characters, please do not use:';																								
 	 if 	(RWord!=-1	) { Alert(alertText+RWord,focusId); return false;};		
	   return true;
		 }
		 
//-----------------------------------------
function ckPitzulM() {
		RWord=	checkreservedWords(document.myform.pitzulMishpachotM.value);
		focusId=document.getElementById('pitzulMishpachotM');
    if(isCurrentLanguageHebrew){alertText="מלים שגויות בהסבר הפיצול"+"\n"+" בבקשה אל תשתמש בטקסט:";}	 else alertText='illegal characters, please do not use:';																								
 	  if 	(RWord!=-1	) { Alert(alertText+RWord,focusId); return false;};			   return true;
		 }		 

// -----------------------------------------------------------------------------------------		
     function  ckMoreCmnts(){  										 
			RWord=	checkreservedWords(document.myform.RmoreComments.value);
			focusId=document.getElementById('RmoreComments');
			if(isCurrentLanguageHebrew){alertText="מלים שגויות בהערות הנוספות  "+"\n"+" בבקשה אל תשתמש בטקסט:";}	 else alertText='illegal characters, please do not use:';																								
 	  if 	(RWord!=-1	) { Alert(alertText+RWord,focusId); return false;};			   return true;
				return true;
				}	




// -----------------------------------------------------------------------------------------			
		
		function ckValidity(){
		if(emailPassDisplayed){   emailChangedWaitingForPassw(); return false;}		
		Cancelling=false;
	 ckValidity_1();
	 }
	
 
	function ckValidity_1(){
	 
	document.myform.sbmt.disabled=true; 
	
// ck name				
	 
		 res=ckName();
		 if(res.substr(0,3)=='---'){
		       					document.myform.sbmt.disabled=false; 
										 return false};
			dataToSend[0][1]=document.myform.familyname.value;		
			
			if (dataToSend[0][0] != 'familyname=')sendErrMail('a',dataToSend);
						 
// ck email


if(! validateEmail()){   document.myform.sbmt.disabled=false;      return false;   };
     dataToSend[1][1]=document.myform.reqemail.value+','+emailPassCode;
	
// ck phone	
	if(! ckPhone()){   document.myform.sbmt.disabled=false;      return false;   };
	    dataToSend[2][1]=document.myform.reqPhone.value;

// ck address	
  if(! ckAddress()){   document.myform.sbmt.disabled=false;      return false;   };
	   dataToSend[3][1]=document.myform.reqaddress.value;

																								
// ck number of requested seats
  if(! CkSeatsNumbers()){   document.myform.sbmt.disabled=false;      return false;   };
      dataToSend[4][1]=document.myform.menRosh.value;
			dataToSend[5][1]=document.myform.menkipur.value;
			dataToSend[6][1]=document.myform.womenRosh.value;
			dataToSend[7][1]=document.myform.womenkipur.value;
																																		
// ck requested minyan  Women--------------
 var ChosenMinyanW;
 minyanIsSelected=false;
 dataToSend[9][1]='';
 

 if (document.myform.ReqminyanW[0].checked){
 var m = document.getElementById("mntth");  
 var d = document.getElementById("ddy"); 
 var y = document.getElementById("yyr");

	if(isCurrentLanguageHebrew){alertText="תאריך לידת התינוק/ת שגוי";}	 else alertText="error in baby's birthdate";																								

 
 BabyDateInput=true;
 if ( ! (m.selectedIndex && d.selectedIndex && y.selectedIndex) ){     // month or year or day left not chosen 
   if ( (m.selectedIndex + d.selectedIndex + y.selectedIndex) > 0)   // but at least one of them specified
	      {
				focusId=document.getElementById('yyr');
				Alert(alertText,focusId);   document.myform.sbmt.disabled=false;    return false;}
				else {BabyDateInput=false;}
    } 
 
 if ( BabyDateInput ){  // verify valid date
 m1=m.options[m.selectedIndex].value;
 d1=d.options[d.selectedIndex].value;
 y1=y.options[y.selectedIndex].value; 
 
  
     focusId=document.getElementById('yyr');
     if(  ([4,6,9,11].indexOf(m.selectedIndex)!=-1) && (d.selectedIndex==31)  ){
				Alert(alertText,focusId);   document.myform.sbmt.disabled=false;    return false;}	
		if ((m.selectedIndex)  == 2	){ 
			              leapYear=0; if (4*Math.floor(y1/4)== y1)leapYear=1;  
			               if (d.selectedIndex>(leapYear+28)) {Alert(alertText,focusId);  document.myform.sbmt.disabled=false;
										                                     return false;};
			                             };
				dataToSend[9][1]=	d1+'/'+m1+'/'+y1;	
	}
	else {	dataToSend[9][1]=' ';		}   // baby birth date no given
				
				
				ChosenMinyanW=0;		
				minyanIsSelected=true;									 
				};	
				
		if (document.myform.ReqminyanW[1].checked){ ChosenMinyanW=1;   minyanIsSelected=true;	}
		if (document.myform.ReqminyanW[2].checked){ ChosenMinyanW=2;   minyanIsSelected=true;	}
																															    
		
	if (document.myform.ReqminyanW[3].checked){
	focusId=document.getElementById('reqExplanationW');
	if(isCurrentLanguageHebrew){alertText=" (נשים) לא נרשמה 'סיבה מיוחדת' ";}	 else alertText="no reason given (women)";																								

	  if( document.myform.reqExplanationW.value.length==0){
	                               Alert(alertText,focusId);  document.myform.sbmt.disabled=false; return false;};
		
	if(! ckSibaW()){   document.myform.sbmt.disabled=false;      return false;   };															
		ChosenMinyanW=3;  dataToSend[9][1]=document.myform.reqExplanationW.value;
		minyanIsSelected=true;	
		}
															 
		
	if (document.myform.ReqminyanW[4].checked){
	   focusId=document.getElementById('REQfamilyListW');
	   if(document.myform.REQfamilyListW.value.length==0){ 
		                    if(isCurrentLanguageHebrew){alertText=" (נשים) לא נרשמו שמות המשפחות שבקשת להתפלל יחד אתם באותו המנין  ";}	 else alertText="missing names of families  (women)";																								
	                       Alert(alertText,focusId);
												 document.myform.sbmt.disabled=false; return false;};
												
				  
			if(! ckMishpW()){   document.myform.sbmt.disabled=false;      return false;   };															 
					ChosenMinyanW=4;		dataToSend[9][1]=document.myform.REQfamilyListW.value;	
					minyanIsSelected=true;									 
			       };													 													 
																 
			
	if (document.myform.ReqminyanW[5].checked){
	focusId=document.getElementById('pitzulMishpachotW');
	  if( document.myform.pitzulMishpachotW.value.length==0){ 
				  if(isCurrentLanguageHebrew){alertText="(נשים) לא נרשם הסבר לפיצול המשפחות  ";}	 else alertText="no explanation given to family split (women)";																								
	         Alert(alertText,focusId); document.myform.sbmt.disabled=false; return false;};
																 
			if(! ckPitzulW()){   document.myform.sbmt.disabled=false;      return false;   };																 
					ChosenMinyanW=5;		dataToSend[9][1]=document.myform.pitzulMishpachotW.value;		
					minyanIsSelected=true;							 
					        };	
		combinedNumSeatsForW=document.myform.womenRosh.value+	document.myform.womenkipur.value;
		
		if  ( ! minyanIsSelected ) {   // minyan is not selected
		      if (	combinedNumSeatsForW == 0)     {       // no need to select
                            		ChosenMinyanW=9;    }
																else {
																focusId=document.getElementById('RmartefW');
																if(isCurrentLanguageHebrew){alertText="לא נרשם מנין נשים מועדף ";}	 else alertText="missing 'Preferrd minyan (women)";																								
		                            Alert(alertText,focusId);
																 document.myform.sbmt.disabled=false; return false;
																 };	
								}								 		
		dataToSend[8][1]=ChosenMinyanW;
	
	
	
				if (dataToSend[0][0] != 'familyname=')sendErrMail('b',dataToSend);

																																			
// ck requested minyan  Men--------------
 var ChosenMinyanM;
 minyanIsSelected=false;
 dataToSend[11][1]='';
 
    if (document.myform.ReqminyanM[0].checked){ ChosenMinyanM=0;   minyanIsSelected=true;	}
 		if (document.myform.ReqminyanM[1].checked){ ChosenMinyanM=1;   minyanIsSelected=true;	}
		if (document.myform.ReqminyanM[2].checked){ ChosenMinyanM=2;   minyanIsSelected=true;	}
																															    
		
	if (document.myform.ReqminyanM[3].checked){
	focusId=document.getElementById('reqExplanationM');
	  if( document.myform.reqExplanationM.value.length==0){
			       if(isCurrentLanguageHebrew){alertText=" (גברים) לא נרשמה 'סיבה מיוחדת' ";}	 else alertText="no reason given (men)";																								
	           Alert(alertText,focusId);  document.myform.sbmt.disabled=false; return false;};
		
	if(! ckSibaM()){   document.myform.sbmt.disabled=false;      return false;   };															
		ChosenMinyanM=3;  dataToSend[11][1]=document.myform.reqExplanationM.value;
		minyanIsSelected=true;	
		}
															 
		
	if (document.myform.ReqminyanM[4].checked){
	   focusId=document.getElementById('REQfamilyListM');
	   if(document.myform.REQfamilyListM.value.length==0){ 
		 		           if(isCurrentLanguageHebrew){alertText=" (גברים) לא נרשמו שמות המשפחות שבקשת להתפלל יחד אתם באותו המנין ";}	 else alertText="missing names of families  (men)";																								
                    Alert(alertText,focusId);
										document.myform.sbmt.disabled=false; return false;};
																 
				  
			if(! ckMishpM()){   document.myform.sbmt.disabled=false;      return false;   };															 
					ChosenMinyanM=4;		dataToSend[11][1]=document.myform.REQfamilyListM.value;	
					minyanIsSelected=true;									 
			       };													 													 
																 
			
	if (document.myform.ReqminyanM[5].checked){
	focusId=document.getElementById('pitzulMishpachotM');
	  if( document.myform.pitzulMishpachotM.value.length==0){
		      if(isCurrentLanguageHebrew){alertText=" (גברים)לא נרשם הסבר לפיצול   המשפחות  ";}	 else alertText="no explanation given to family split (men)";																								
	         Alert(alertText,focusId); document.myform.sbmt.disabled=false; return false;}; 
																 
			if(! ckPitzulM()){   document.myform.sbmt.disabled=false;      return false;   };																 
					ChosenMinyanM=5;		dataToSend[11][1]=document.myform.pitzulMishpachotM.value;		
					minyanIsSelected=true;							 
					        };	
		combinedNumSeatsForM=document.myform.menRosh.value+	document.myform.menkipur.value;						
		if  ( ! minyanIsSelected ) {   // minyan is not selected
		      if (	combinedNumSeatsForM == 0)     {       // no need to select
                            		ChosenMinyanM=9;}
										else{						
																focusId=document.getElementById('RmartefM');
																if(isCurrentLanguageHebrew){alertText="לא נרשם מנין גברים מועדף ";}	 else alertText="missing 'Preferrd minyan (men)";																								
		                            Alert(alertText,focusId);
																 document.myform.sbmt.disabled=false; return false;
																 };	
						}		
		dataToSend[10][1]=ChosenMinyanM;
		
	
		
	//ck "more comments"	
				if(! ckMoreCmnts()){   document.myform.sbmt.disabled=false;      return false;   };														 
					       												 													 											 
	      dataToSend[12][1]=document.myform.RmoreComments.value;	
				
				
				dataToSend[13][1]=document.myform.seatsString.value;	
				if ( Cancelling )dataToSend[13][1]='';	
	/*			
		seatsForRoshHashana=Number(document.myform.menRosh.value)+Number(document.myform.womenRosh.value);
		seatsForYomKipur=Number(document.myform.menkipur.value)+Number(document.myform.womenkipur.value);
	  numberOfSeatsForPayment=Math.max(seatsForRoshHashana,	seatsForYomKipur);  
		requiredPayment= basePayment+		numberOfSeatsForPayment * paymentPerSeat;  
	*/
	  requiredPayment=calcPayment();
		dataToSend[14][1]=requiredPayment.toString();			
		
					if (dataToSend[0][0] != 'familyname=')sendErrMail('c',dataToSend);

		
		if(isCurrentLanguageHebrew){dataToSend[15][1]='hebrew';} else dataToSend[15][1]='english';
				
		    stringToSend='';
				for (i=0; i<dataToSend.length;i++){
				     for (j=0; j<2; j++) stringToSend=stringToSend+dataToSend[i][j];
	
	
	// debug   
		inputPairss=stringToSend.split('&');                   }
tmpNName=inputPairss[0].split('='); 
if (tmpNName[0]!= 'familyname')sendErrMail('d',dataToSend);
	 
	 
	 
	  // end debug	
/*	
	 // cover up for request not honored					                           
	 
			console.log(stringToSend);			
  stringToSend			='familyname=גרין&reqemail=adrach@gmail.com&reqPhone=054-4975897&reqaddress=66 David Elazar&menRosh=2&menKipur=2&womenRosh=2&womenKipur=2&reqminyanW=0&reqMinyanDataW= &reqminyanM=0&reqMinyanDataM=&RmoreComments=&seatsString=721_1+722_1+906_1+905_1&tashlum=1400&language=english';
	
		console.log(stringToSend);								 	
	*/	
	
	
	
		url=encodeURI(firstPartOfURL+"/writeinfo/?"+stringToSend);
        xhttp.open("GET", url, false);
        xhttp.send();
	      rspnsString = xhttp.responseText;
				
				tmp1= document.getElementById("myForm");
		                tmp1.style.display='none';
								
				if(rspnsString.substr(0,3)=='---'){
				            tmp1= document.getElementById("errorInRequest");
		                tmp1.style.display='block';
										tmp1= document.getElementById("shgia");
		                tmp1.innerHTML=rspnsString.substr(3,3);
										}
				      else{  
							      document.getElementById("tosefet").style.display='none';
										document.getElementById("hafchata").style.display='none';
										
							      tmp1= document.getElementById("incompatibilty");
							      incompatibilty=rspnsString.substr(4,1); 
										if (incompatibilty == '1'){ tmp1.style.display='block';}
										             else {tmp1.style.display='none';}
																		 
										tmp1= document.getElementById("sgura_3");		
										tmp1.style.display='none';
										afterClosingDate=rspnsString.split('$')[2];   
										if ( afterClosingDate=='1') tmp1.style.display='block';
																 
										hasStillToPay=rspnsString.split('$')[1];
										tmp1= document.getElementById("confirmation");
		                tmp1.style.display='block';
										
		
	
	
	                tmp1= document.getElementById("tashlum");
									tmp1.innerHTML=requiredPayment.toString();
	
	                if ( (! retrievedPayment) || ( retrievedPayment == basePayment) )return true;     // first time; no message about change in payment
									deltaPayment=requiredPayment-retrievedPayment;
									if ( ! deltaPayment )return true;     // no change; no message about change in payment
	        
	                if (deltaPayment > 0 ){
									                  document.getElementById("tashlum4").innerHTML=deltaPayment.toString();
	                                  document.getElementById("tashlum5").innerHTML=deltaPayment.toString();
                                    document.getElementById("tosefet").style.display='inline-block';
	                                     }
																else {  // last option; deltaPayment is negative	
									                  deltaPayment=-deltaPayment; 									 
		                                document.getElementById("tashlum6").innerHTML=deltaPayment.toString();
	                                  document.getElementById("tashlum7").innerHTML=deltaPayment.toString();
                                    document.getElementById("hafchata").style.display='inline-block'; 
																		} 
				           }
		
		
		
		return true;
		
	};
// ----------------------------------------------------------------------------------------------
  function sendErrMail (err,arry){
	 arryStr='';
	 for (iiii=0; iiii<arry.length; iiii++)arryStr=arryStr+arry[iiii];
   arryStr='err='+err+' --'+arryStr;
   url=encodeURI(firstPartOfURL+"/sendBrsrRprtedErr/?"+arryStr);
        xhttp.open("GET", url, false);
        xhttp.send();
	      rspnsString = xhttp.responseText;
				
}


// ----------------------------------------------------------------------------------------------sendErrMail


function 	reDisplayMainForm(){
      tmp1= document.getElementById("errorInRequest");
		  tmp1.style.display='none';
			tmp1= document.getElementById("confirmation");
      tmp1.style.display='none';
			tmp1= document.getElementById("myForm");
		  tmp1.style.display='block';
			document.myform.sbmt.disabled=false;
										}
										
// ----------------------------------------------------------------------------------------------
		function calcPayment(){							
										
										
    seatsForRoshHashana=Number(document.myform.menRosh.value)+Number(document.myform.womenRosh.value);
		seatsForYomKipur=Number(document.myform.menkipur.value)+Number(document.myform.womenkipur.value);
	  numberOfSeatsForPayment=Math.max(seatsForRoshHashana,	seatsForYomKipur);  
		requiredPayment= basePayment+		numberOfSeatsForPayment * paymentPerSeat; 
		
		return  	requiredPayment;
		}									
// ----------------------------------------------------------------------------------------------
	
	function SimpleMinyanDisplayW(){ 
	   tmp1= document.getElementById("tinok");
		 tmp1.style.visibility='hidden';
		 tmp1= document.getElementById("sibaW");
		 tmp1.style.visibility='hidden';
		 tmp1= document.getElementById("mishpW");
	   tmp1.style.visibility='hidden';
		 tmp1= document.getElementById("pitzlW"); 
	   tmp1.style.visibility='hidden';
		 tmp1= document.getElementById("babyComment"); 
	   tmp1.style.visibility='hidden';
		}
// --------------

	function SimpleMinyanDisplayM(){
	   tmp1= document.getElementById("sibaM");
		 tmp1.style.visibility='hidden';
		 tmp1= document.getElementById("mishpM");
	   tmp1.style.visibility='hidden';
		 tmp1= document.getElementById("pitzlM"); 
	   tmp1.style.visibility='hidden';
		 
		}
	
// ----------------------------------------------------------------------------------------------	
	
function 	BabyMinyan(){
    SimpleMinyanDisplayW();
    tmp1= document.getElementById("tinok")
	  tmp1.style.visibility='visible'; 
		tmp1= document.getElementById("babyComment")
	  tmp1.style.visibility='visible';  
		   
	};
	
// ----------------------------------------------------------------------------------------------	


	
	function sibaMinyanW()  {
      	SimpleMinyanDisplayW();
	      tmp1= document.getElementById("sibaW");
	      tmp1.style.visibility='visible';   
	  } 
		
// --------------
 function sibaMinyanM()  {
      	SimpleMinyanDisplayM();
	      tmp1= document.getElementById("sibaM");
	      tmp1.style.visibility='visible';   
	  } 
		 
// ----------------------------------------------------------------------------------------------	
	
function mishpMinyanW(){
	      SimpleMinyanDisplayW();
	      tmp1= document.getElementById("mishpW");
	      tmp1.style.visibility='visible';
	  }
		
// --------------
 	
function mishpMinyanM(){
	      SimpleMinyanDisplayM();
	      tmp1= document.getElementById("mishpM");
	      tmp1.style.visibility='visible';
	  }
		
// ----------------------------------------------------------------------------------------------	
		
function pitzulMinyanW(){
		  SimpleMinyanDisplayW();
	      tmp1= document.getElementById("pitzlW");
	      tmp1.style.visibility='visible';
				  }
					
// --------------
	
function pitzulMinyanM(){
		  SimpleMinyanDisplayM();
	      tmp1= document.getElementById("pitzlM");
	      tmp1.style.visibility='visible';
				  }
					
// ----------------------------------------------------------------------------------------------	
		
	function checkreservedWords(inputText){
	/*    reservesWordsArray=["&","familyname","reqemail","reqmobile","reqaddress","menRosh","menkipur","womenRosh","womenkipur",
			                    "Rmartef","martefleft","Reqminyan","Reqyr","thisYear","lastYear","PrvsYear",
													"Reqddy","reqExplanation","REQfamilyList","pitzulMishpachot","RmoreComments"];
		 
	*/
	  reservesWordsArray=["&"];	 
		 	 for (rWord in reservesWordsArray){
		     if (inputText.indexOf(reservesWordsArray[rWord])!=-1)return reservesWordsArray[rWord]; };
		  return -1;
			};  
	

//---------------------------------------------------------------------------------





		
// ---------------------------------------------------------------------------------------------- 		
function changeLanguageTo(str){
  var numOfStrings=70;
	for (i=0; i<=numOfStrings; i++){
	   strId='lanDepndntStr'+(i).toString()+'_';
		 elmnt= document.getElementById(strId+"EN"); 
		 if (elmnt)elmnt.style.display='none';
	//if (  elmnt)console.log(strId);	 // look for unused numbers
		 elmnt= document.getElementById(strId+"HB"); 
		 if (elmnt)elmnt.style.display='none';
		 
		 elmnt= document.getElementById(strId+str);
		 if (elmnt)elmnt.style.display='inline-block';
		 }
		 GenerateTables();
		 if (document.myform.seatsString.value)reconstructSeats(document.myform.seatsString.value);
		} 

// ----------------------------------------------------------------------------------------------

function setCurrentLanguage(){
  if(isCurrentLanguageHebrew){hebrew()} else english();
	 
	 }

// ----------------------------------------------------------------------------------------------

function english(){
   document.getElementById("mainFieldset").setAttribute("class",'EnglishClass');

	 document.getElementById("confirmation").setAttribute("class",'confirmationEnglish');
	// document.getElementById("lnguage").setAttribute("class",'langRight');
	 
	 yyy=document.myform.Reqyr.selectedIndex; 
	 ddd=document.myform.Reqddy.selectedIndex;
	 mmm=document.myform.Reqmnth.selectedIndex; 
	 
	 document.myform.Reqyr.options[0]=new Option('year');
	 document.myform.Reqmnth.options[0]=new Option('month');
	 document.myform.Reqddy.options[0]=new Option('day');
	
	 document.myform.prti.options[0]=new Option('Select Name');

	  
	 isCurrentLanguageHebrew=false;
	 changeLanguageTo('EN');
	 
	 document.myform.Reqyr.selectedIndex=yyy;  
	 document.myform.Reqddy.selectedIndex=ddd;
	 document.myform.Reqmnth.selectedIndex=mmm; 
	 
	 
	  changeMarqueeDirection('left');
	 }
	 
// ----------------------------------------------------------------------------------------------	

function hebrew(){
 
	    document.getElementById("mainFieldset").setAttribute("class",'HebrewClass');

	 	 document.getElementById("confirmation").setAttribute("class",'confirmationHebrew');
	//   document.getElementById("lnguage").setAttribute("class",'langLeft');
	 
	 yyy=document.myform.Reqyr.selectedIndex;  
	 ddd=document.myform.Reqddy.selectedIndex;
	 mmm=document.myform.Reqmnth.selectedIndex;  
	 
	 document.myform.Reqyr.options[0]=new Option('שנה');
	 document.myform.Reqmnth.options[0]=new Option('חודש');
	 document.myform.Reqddy.options[0]=new Option('יום');
	 
	 document.myform.prti.options[0]=new Option('בחר שם');
	  
	 isCurrentLanguageHebrew=true;
	 changeLanguageTo('HB');
	 
	 document.myform.Reqyr.selectedIndex=yyy;  
	 document.myform.Reqddy.selectedIndex=ddd;
	 document.myform.Reqmnth.selectedIndex=mmm; 
	 
	 changeMarqueeDirection('right');
	 
	 }
	 
	 /*
	 
	 	
				<div style="display:inline;" id='lnguage' ><button  type="button"  onclick= 'english()' style='display:inline;font-size:22px;'> EN </button> &nbsp 
				<button  type="button"  onclick= 'hebrew()' style='display:inline;direction:rtl;font-size:22px;'>  עבר' </button> </div> 
				
	 
*/
// ----------------------------------------------------------------------------------------------	

function changeMarqueeDirection(drction){
  for(i=1; i<7; i++){
	    itemmElmnt=document.getElementById('marq'+(i).toString());
			if ( itemmElmnt) itemmElmnt.direction=drction;
					 
			}
			
		itemmElmnt=document.getElementById(currentWarningID);	
		if(itemmElmnt){
		    marqId='';
		    children=itemmElmnt.children;  
				for(i=0; i<children.length; i++){
				  aChildId=children[i].id; 
					if(aChildId.substr(0,4)=='marq'){marqId=aChildId;   break;}
				 };
				 if(marqId){ 
		
		     	document.getElementById(marqId).stop();
					document.getElementById(marqId).start();
		  
				}
		   }  
}
// ----------------------------------------------------------------------------------------------	

		                  			
</script>
</head>
<body onload="GenerateTables()">

<div id="dialogoverlay"></div>
<div id="dialogbox">
  <div>
    <div id="dialogboxhead"></div>
    <div id="dialogboxbody"></div>
    <div><span id="dialogboxfoot"> </span><span id ="dialogboxfootLeft" style='display:inline; float:left'></span>  </div>
  </div>
</div>



<form name="myform" id='myForm'     > 

<h1 style="color:blue; font-size:200%;text-align:center"><b><u>בית כנסת אריאל</u></b> </h1>
<h1 style="font-size:150%;text-align:center"><b><u><span id='lanDepndntStr0_HB'>הזמנת מקומות לימים נוראים תשע"ח</span>
<span id='lanDepndntStr0_EN'> Seat requests for High Holydays 5778 </span></u></b> </h1>

<h1 id='newBefore' style="font-size:150%;text-align:center;display:block;">  &nbsp &nbsp &nbsp </h1>
<h1 id='newAfter' style="font-size:150%;text-align:center;display:none;color:red;"><marquee direction='right'; id='marq1'; width:  100%;
    height: 100%; SCROLLAMOUNT =10> <b><span id='lanDepndntStr1_HB'>זו הזמנת מקומות לאחר סגירת ההרשמה. הזמנה זו תטופל בשלב השני של סידור המקומות</span>
		   <span id='lanDepndntStr1_EN' >Registration for the first round of seat allocations is closed.  This request will be processed in the second round</span>
</b> </marquee></h1>
<h1 id='oldAfterPaid' style="font-size:150%;text-align:center;display:none;color:red"><marquee direction='right'; id='marq2';  width:  100%;
    height: 100%; SCROLLAMOUNT =10><b><span id='lanDepndntStr2_HB'>ההזמנה הקיימת נרשמה לאחר סגירת ההרשמה והיא תטופל בשלב השני של סידור המקומות</span>
		   <span id='lanDepndntStr2_EN' >The request was submitted after registration closed, and it will be handled in the second round of seating arrangements</span></b></marquee> </h1>
<h1 id='oldAfterToPay' style="font-size:150%;text-align:center;display:none;color:red"><marquee direction='right'; id='marq3'; width:  100%;
    height: 100%; SCROLLAMOUNT =10> <b><span id='lanDepndntStr3_HB'>  ההזמנה הקיימת נרשמה לאחר סגירת ההרשמה והיא תטופל בשלב השני של סדור המקומות <u> ולאחר שיבוצע תשלום</u></span>
		   <span id='lanDepndntStr3_EN' >The request was submitted after registration closed, and it will be handled in the second round of seating arrangements <u>after payment is made</u></span></b></marquee> </h1>
<h1 id='oldBeforeBeforeToPay' style="font-size:150%;text-align:center;display:none;color:red;"> <marquee direction='right'; id='marq4'; width:  100%;
    height: 100%; SCROLLAMOUNT =10><b><span id='lanDepndntStr4_HB'> אנא דאג/י לשלם כדי להשלים את תהליך ההרשמה</span>
		    <span id='lanDepndntStr4_EN' >Please submit payment, in order to complete the registration process</span></b></marquee> </h1>
<h1 id='oldBeforeAfterToPay' style="font-size:150%;text-align:center;display:none;color:red"> <marquee direction='right'; id='marq5'; width:  100%;
    height: 100%; SCROLLAMOUNT =10><b><span id='lanDepndntStr5_HB'> מכיון שההרשמה נסגרה, שליחת בקשה המשפיעה על סדור המקומות תשנה את סטטוס הבקשה לכזו שתטופל בשלב השני של סדור המקומות.  <u> הבקשה תכנס לסדור המקומות לאחר בצוע התשלום </u></span>
		     <span id='lanDepndntStr5_EN' >As registration is closed, a change affecting seat distribution changes the status of the request such that it will be processed in the second round of seat allocations. <u>The request will be processed after payment is made</u></span></b></marquee> </h1>
<h1 id='oldBeforeAfterPaid' style="font-size:150%;text-align:center;display:none;color:red">  <marquee direction='right'; id='marq6'; width:  100%;
    height: 100%; SCROLLAMOUNT =10><b><span id='lanDepndntStr6_HB'>מכיון שההרשמה נסגרה, שליחת בקשה המשפיעה על סדור המקומות תשנה את סטטוס הבקשה לכזו שתטופל בשלב השני של סדור המקומות.</span>
		    <span id='lanDepndntStr6_EN' >As registration is closed, a change affecting seat distribution changes the status of the request such that it will be processed in the second round of seat allocations</span></b></marquee> </h1>
 

	 <fieldset id='mainFieldset'  style="width:1200px;">
	     
                  <label for="familyname"><span id='lanDepndntStr7_HB'>שם משפחה</span><span id='lanDepndntStr7_EN' >Surname</span></label>
		      <input type="text" name="familyname" id="fmName" required onchange='ckNameRtrvVlus()'> 
					  <div id='prtitxt' style='display:none; color:brown'> <span id='lanDepndntStr8_HB'> &nbsp &nbsp &nbsp אנא השלם שם משפחה /  שם פרטי</span>
						  <span id='lanDepndntStr8_EN' >Please fill in surname / first name</span> 
						<select id='prti'  name='prti' onchange="ckNameRtrvVlus()">
							                            <option value="0"> בחר שם</option>  
																					<option value="1" > &nbsp </option>         
																			    <option value="2" > &nbsp </option> 
																				  <option value="3" > &nbsp </option> 	
											</select>	
											</div>	  
	<!-- ------------ Hebrew/English buttons -------------  -->			
				<div style="float:right" id='lanDepndntStr9_EN' ><button  type="button"  onclick= 'english()' style='display:inline;font-size:22px;'> EN </button> &nbsp 
				<button  type="button"  onclick= 'hebrew()' style='display:inline;font-size:22px;'> 'עבר </button> </div> 
				<div style="float:left" id='lanDepndntStr9_HB' ><button  type="button"  onclick= 'hebrew()' style='display:inline;font-size:22px;'> עבר' </button> &nbsp 
				<button  type="button"  onclick= 'english()' style='display:inline;font-size:22px;'> EN </button></div> 
	<!-- ---------------------------------------------------- -->			
							  <br>
					      <div><br><span id='lanDepndntStr10_HB'> אנא עדכן פרטים</span><span id='lanDepndntStr10_EN' >Please update contact information</span>  </div>
		
								<label for="reqemail"><span id='lanDepndntStr11_HB'>מייל:</span><span id='lanDepndntStr11_EN' >Email:</span> </label>
		      <input type="email" name="reqemail" id='reqemail' style="direction:ltr" onchange='validateEmail()'>
          <span id='emailPass' style="display:none;color:red"> <span id='lanDepndntStr61_HB'> &nbsp שנוי כתובת מייל מצריך סיסמא. זו נשלחה למייל הקיים ותוקפה כ20 דקות:</span>
					      <span id='lanDepndntStr61_EN'>&nbsp passcode to change existing email was sent to old mail addr and is valid for 20 minutes:</span>
								<input type='text' id='passcode' name='passcode'  onchange='validateEmail()'>  </span><br><br>
	  
		              <label for="reqPhone"><span id='lanDepndntStr12_HB'>טלפון או טלפון נייד (אנא מלא לפי אחד מהפורמטים הבאים: </span><span id='lanDepndntStr12_EN' > Home or mobile phone (please use one of these formats: </span> 0xx-xxxxxxx ; 0x-xxxxxxx) :</label>
		      <input type="tel" name="reqPhone" id='reqPhone' style="direction:ltr" onchange='ckPhone()'> <br><br>
 
                  <label for="reqaddress" ><span id='lanDepndntStr13_HB'>כתובת:</span><span id='lanDepndntStr13_EN' >Address</span></label>
                      <textarea  name="reqaddress" id='reqaddress' onchange='ckAddress()'></textarea> <br>
	
	
	<br><h2><span id='lanDepndntStr45_HB'> עלויות </span><span id='lanDepndntStr45_EN'>Payment</span> </h2> 
	
	
	<div><span id='lanDepndntStr14_HB'>התשלום <b>1200</b> ש"ח + 50 ש"ח למקום. <big>נא להכין התשלומים לתאריך 01 לחודש XX שנה 201X </big></span>
	     <span id='lanDepndntStr14_EN' >Annual dues are NIS <b>1200</b> 1200 per family, plus NIS 50 per seat for High Holydays. <big>Please make out cheques for 1/XX/201X. </big></span></div>	
	<table>
	<thead> 
	<tr>
	 <th><span id='lanDepndntStr15_HB'>מקומות</span><span id='lanDepndntStr15_EN' >Seats</span></th> <th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th>
	 <th>11</th>
	 <th>12</th><th>13</th><th>14</th><th>15</th><th>16</th>
	</tr>
	</thead>
	<tbody>
	<tr id='costValues'>
	<td><span id='lanDepndntStr16_HB'>תשלום</span><span id='lanDepndntStr16_EN' >Payment</span></td><td>1250</td><td>1300</td><td>1350</td><td>1400</td><td>1450</td><td>1500</td><td>1550</td>
	<td>1600</td><td>1650</td><td>1700</td>
	<td>1750</td>
	<td>1800</td><td>1850</td><td>1900</td><td>1950</td><td>2000</td>   
	</tr>
	</tbody>
	</table>
	<br>
	
	<p><span id='lanDepndntStr17_HB'>מספר מקומות מבוקש:</span><span id='lanDepndntStr17_EN' >Number of seats requested:</span></p>
	<table>
	
	<thead> 	<tr> 	<th>    </th><th><span id='lanDepndntStr18_HB'>ראש השנה</span><span id='lanDepndntStr18_EN' >Rosh Hashana</span></th><th><span id='lanDepndntStr19_HB'>יום כפור</span><span id='lanDepndntStr19_EN' >Yom Kipur</span></th> </tr>  </thead>
	<tbody id='misparMekomot'>  
	 <tr>  <td><span id='lanDepndntStr20_HB'>גברים</span><span id='lanDepndntStr20_EN' >Men</span></td> <td><input type="number" name="menRosh" min="0"></td><td><input type="number" name="menkipur" min="0"></td></tr>
	 <tr>  <td><span id='lanDepndntStr21_HB'>נשים</span><span id='lanDepndntStr21_EN' >Women</span></td> <td><input type="number" name="womenRosh" min="0"></td><td><input type="number" name="womenkipur" min="0"></td></tr>
	</tbody>
	</table>
	<br>
	
	<h3><span id='lanDepndntStr23_HB'><u>מנין מועדף לנשים (נא לסמן <u>אפשרות אחת בלבד </u>):</u></span><span id='lanDepndntStr23_EN' ><u>Preferred minyan for women (Please mark <u>exactly one choice </u>)</u></span></h3></div>
	<div style='color:red'><b><span id='lanDepndntStr24_HB'> שימו לב: מטעמי בטיחות <u> אין להכניס עגלות</u> 
לאולמי התפילה בשתי הקומות העליונות, וגם לא להשאירן בלובי. אפשר להשאיר עגלות מחוץ לבניין, 
בבית יהודה בקומה העליונה, או בחדר הביטחון במרתף. המקום <u> היחיד</u> בתוך אולם 
תפילה שמותר להכניס אליו עגלות הוא האזור השמאלי בעזרת הנשים במרתף (לא במעברים!!).
לכן תהיה העדפה באזור השמאלי בבית המדרש במרתף לנשים הרוצות להתפלל שם עם עגלת ילדים</span>
<span id='lanDepndntStr24_EN' >

Note: For safety reasons, prams are not permitted in the prayer halls on the two upper floors and in the lobby.
  Prams may be left outside the building, in Beit Yehuda on the upper floor, or in the security room in the basement.
	  The only place inside a prayer hall where prams are permitted is the area to the left of the women's seats
		 in the basement (not in the aisles!!).  therefore, preference for seating on the left side in the basement will be given to women who wish to bring prams.

</span> </b></div>  <br>
	
   <input type="radio" name="ReqminyanW" value="martefleft" id='RmartefW' onclick="BabyMinyan()"><span id='lanDepndntStr25_HB'>העדפה לבית המדרש במרתף</span>
	     <span id='lanDepndntStr25_EN' >We prefer to sit in the basement</span> 
	 <span id='babyComment' style="color:red; " >  &nbsp &nbsp  &nbsp  &nbsp
				<b><span id='lanDepndntStr26_HB'> אם ברצונך לשבת באיזור השמאלי בבית המדרש במרתף עם עגלת ילדים, אנא רשום/רשמי את תאריך לידת התינוק. </span>
				    <span id='lanDepndntStr26_EN' >If you wish to sit on the left side of the women's section  with a pram, please enter the baby's birth date.
</span></b> </span>
   <div id="tinok" style="display:inline">
	 <label for="date of birth">    </label>
                     <select id='yyr'  name='Reqyr'>
							                            <option value="blankYear">בחר/י שנה</option> 
																					                                       
																					<option value="thisYear">2020</option>           
																			    <option value="lastYear">2019</option> 
																				  <option value="PrvsYear">2018</option> 	
											</select>		 
										<select id='mntth'   name='Reqmnth'>
							                            <option value="blankMonth"> בחר/י חודש </option>
																					<option value="Jan"> Jan  </option>           
																			    <option value="Feb"> Feb  </option> 
																				  <option value="Mar"> Mar  </option> 
																					<option value="Apr"> Apr  </option>
																					<option value="May"> May  </option> 	
																					<option value="Jun"> Jun  </option> 	
																					<option value="Jul"> Jul  </option> 
																					<option value="Aug"> Aug  </option> 	
																					<option value="Sep"> Sep  </option> 	
																					<option value="Oct"> Oct  </option> 	
																		  		<option value="Nov"> Nov  </option> 	
																			  	<option value="Dec"> Dec  </option> 	
									</select>						 
									<select id = 'ddy'  name='Reqddy'>  <option value="blankDay"> בחר/י יום בחודש  </option>  
							         	<option value="01"> 1  </option>    <option value="02"> 2  </option> <option value="03"> 3  </option>
												<option value="04"> 4  </option>    <option value="05"> 5  </option> <option value="06"> 6  </option>
												<option value="07"> 7  </option>    <option value="08"> 8  </option> <option value="09"> 9  </option>
												<option value="10"> 10  </option>    <option value="11"> 11  </option> <option value="12"> 12  </option>
												<option value="13"> 13  </option>    <option value="14"> 14  </option> <option value="15"> 15  </option>
												<option value="16"> 16  </option>    <option value="17"> 17  </option> <option value="18"> 18  </option>
												<option value="19"> 19  </option>    <option value="20"> 20  </option> <option value="21"> 21  </option>
												<option value="22"> 22  </option>    <option value="23"> 23  </option> <option value="24"> 24  </option>
												<option value="25"> 25  </option>    <option value="26"> 26  </option> <option value="27"> 27  </option>
												<option value="28"> 28  </option>    <option value="29"> 29  </option> <option value="30"> 30  </option>
												<option value="31"> 31  </option>    
									</select>						 				 
																						 
																				 
								</div>														 
																						 
					<br>		<br>															

	  <input type="radio" name="ReqminyanW" value="dontCareW"  onclick="SimpleMinyanDisplayW()"> <span id='lanDepndntStr30_HB'>לא משנה</span><span id='lanDepndntStr30_EN' >No preference</span>
		    <br><br>
		<input type="radio" name="ReqminyanW" value="preferHall2W"  onclick="SimpleMinyanDisplayW()"> <span id='lanDepndntStr31_HB'>מעדיפות להיות במנין המרכזי אבל מבינות שאחת למספר שנים נתפלל בבית המדרש במרתף</span>
		       <span id='lanDepndntStr31_EN' >We prefer to be in the main hall but understand the need to rotate to the basement once every few years.</span><br>
    <input type="radio" name="ReqminyanW" value="requestHall2W"  onclick="sibaMinyanW()"><span id='lanDepndntStr32_HB'> יש לנו בעיה שבגללה אנו מבקשות לשבת <u>השנה</u> במנין המרכזי.</span>
		      <span id='lanDepndntStr32_EN' >We have a special need requiring the main minyan this year.</span>
		<span id="sibaW">
		<label for="reqExplanationW"> <span id='lanDepndntStr33_HB'>    סיבה מיוחדת:</span><span id='lanDepndntStr33_EN' >Specify the reason:</span></label>
		      <textarea name="reqExplanationW" id='reqExplanationW' onchange='ckSibaW()' word-wrap=" normal" > </textarea></span><br>
		
		<input type="radio" name="ReqminyanW" value="familiesW"  onclick="mishpMinyanW()"> <span id='lanDepndntStr34_HB'>באותו מנין עם משפחות (כפוף לסבב)
		          </span><span id='lanDepndntStr34_EN' >In the same minyan as families ----- (subject to rotation)</span> 
		<span id="mishpW">
		<label for="REQfamilyListW"></label>
		      <textarea name="REQfamilyListW" id='REQfamilyListW' onchange='ckMishpW()' word-wrap=" normal" > </textarea></span> <br>
		<input type="radio" name="ReqminyanW" value="pitzulW"  onclick="pitzulMinyanW()" ><span id='lanDepndntStr35_HB'> מבקשים לפצל את המשפחה (פרט) </span>
		<span id='lanDepndntStr35_EN' >We would like to split the family (give details).</span>
		<span id="pitzlW">
		<label for="pitzulMishpachotW"></label>
		      <textarea name="pitzulMishpachotW" id='pitzulMishpachotW' onchange='ckPitzulW()' word-wrap=" normal" > </textarea></span><br>
	
	<h3><span id='lanDepndntStr36_HB'><u>מנין מועדף לגברים (נא לסמן <u>אפשרות אחת בלבד </u>):</u></span><span id='lanDepndntStr36_EN' ><u>Preferred minyan for men (Please mark <u>exactly one choice </u>)</u></span></h3></div>
    <input type="radio" name="ReqminyanM" value="RmartefM" id='RmartefM'    onclick="SimpleMinyanDisplayM()"> <span id='lanDepndntStr37_HB'>מעדיפים את בית המדרש במרתף</span>
		      <span id='lanDepndntStr37_EN' >We prefer to sit in the basement</span><br>  <br>             
    <input type="radio" name="ReqminyanM" value="dontCareM"  onclick="SimpleMinyanDisplayM()"> <span id='lanDepndntStr38_HB'>לא משנה</span><span id='lanDepndntStr38_EN' >No preference</span><br><br>
		<input type="radio" name="ReqminyanM" value="preferHall2M"  onclick="SimpleMinyanDisplayM()"><span id='lanDepndntStr39_HB'> מעדיפים להיות במנין המרכזי אבל מבינים שאחת למספר שנים נתפלל בבית המדרש במרתף</span>
		        <span id='lanDepndntStr39_EN' >We prefer to be in the main hall but understand the need to rotate to the basement once every few years.</span><br>
    <input type="radio" name="ReqminyanM" value="requestHall2M"  onclick="sibaMinyanM()"><span id='lanDepndntStr40_HB'> יש לנו בעיה שבגללה אנו מבקשים לשבת <u>השנה</u> במנין המרכזי.</span>
		      <span id='lanDepndntStr40_EN' >We have a special need requiring the main minyan this year.</span>
		<span id="sibaM">
		<label for="reqExplanationM"> <span id='lanDepndntStr41_HB'>    סיבה מיוחדת:</span><span id='lanDepndntStr41_EN' >Specify the reason:</span></label>
		      <textarea name="reqExplanationM" id='reqExplanationM' onchange='ckSibaM()'  ></textarea> </span><br>
		
		<input type="radio" name="ReqminyanM"  value="familiesM"  onclick="mishpMinyanM()"> <span id='lanDepndntStr42_HB'>באותו מנין עם משפחות (כפוף לסבב) </span>
		        <span id='lanDepndntStr42_EN' >In the same minyan as families ----- (subject to rotation)</span>
		<span id="mishpM">
		<label for="REQfamilyListM"></label>
		      <textarea name="REQfamilyListM" id='REQfamilyListM' onchange='ckMishpM()' word-wrap=" normal" > </textarea></span> <br>
		<input type="radio" name="ReqminyanM"   value="pitzulM"  onclick="pitzulMinyanM()" > <span id='lanDepndntStr43_HB'>מבקשים לפצל את המשפחה (פרט) </span>
		       <span id='lanDepndntStr43_EN' >We would like to split the family (give details).</span>
		<span id="pitzlM">
		<label for="pitzulMishpachotM"></label>
		      <textarea  name="pitzulMishpachotM" id='pitzulMishpachotM' onchange='ckPitzulM()' ></textarea> </span><br>
	
	<p ><b><u> <span id='lanDepndntStr44_HB'>הערות ובקשות נוספות</span><span id='lanDepndntStr44_EN' >Comments and additional requests</span></u></b> </p>
		<label for="RmoreComments"></label>
		      <textarea  name="RmoreComments"  id='RmoreComments' word-wrap=" normal" onchange='ckMoreCmnts()' ></textarea><br>
		
		
<br><br><br>
<div style='line-height:200%'  id='lanDepndntStr46_HB'>
<div >נא לסמן אזור(ים) מבוקש(ים) במפות הבאות</div>
<div >אם אין אזור מועדף, אין צורך לסמן בכלל</div>
<div>כדי לבחור מושב יש לסמן אותו באמצעות העכבר</div>
<div> לחץ פעם אחת כדי לבחור את המושב בעדיפות ראשונה</div>
<div>בשתי הלחיצות הבאות תשתנה העדיפות לעדיפות שניה, ולעדיפות שלישית, ובלחיצה הרביעית תתבטל בחירת המושב</div>
<div> לבחירת שורה שלמה, לחץ shift + עכבר</div>
<div>לבחירת גוש מושבים (אזור) לחץ  ctrl + עכבר</div>
<div>כדי לסמן מושבים רבים שאינם בהכרח באותה השורה - ניתן לעבור עם העכבר מעל המושבים, כאשר ה-shift לחוץ, ללא קליק בעכבר</div>
</div>

<div style='line-height:200%' id='lanDepndntStr46_EN'>
<div >Please mark preferred seating areas in the following maps.</div>
<div >If you have no preference, there is no need to mark anything.</div>
<div>Seats may be selected using the mouse.</div>
<div> Click once to mark the seat of first preference</div>
<div>Repeated clicking changes the marked seat to second and then third preference.  The fourth click cancels the selection of this seat.</div>
<div> To indicate a preference for anywhere in a given row, click while holding Shift.</div>
<div>To indicate a preference for anywhere in a block of seats, click while holding Ctrl</div>
<div>To mark multiple seats that are not necessarily in the same row, hold down Shift and move the mouse of the seats without clicking.</div>
</div>
<br><br>    
<div style="color:red;"><big><span id='lanDepndntStr47_HB'>לאחר מלוי כל הפרטים יש ללחוץ על כפתור "שלח" שנמצא בתחתית הדף</span>
<span id='lanDepndntStr47_EN'>After filling in the form, press the "Send" button at the bottom</span></big></div>

<hr>
<div></div> 
										                  
	</fieldset> <br>

	<fieldset id="hall1" class="subframe">
	   <legend><big><b id="Hall1FrameTop">מרתף</b></big></legend>   
		 <div id="drawing_1"> </div>
		 <div id="drawing_2"> לוח זכרון</div>
		 <div id="knisa"> כניסה </div>
		 <div id="mafrid1"> </div>
		 <div id="mafrid2"> </div>
		 <div id="mafrid3"> </div>
	   
	 </fieldset> <br><br>
		 
		 
		 
   <fieldset id="hall2" class="subframe">
	    <legend><big><b id="Hall2FrameTop">אולם מרכזי</b></big></legend> 
			<div id="drawing_3"> </div>
			<div id="mafrid4"> </div>
		  <div id="mafrid5"> </div>
			<div id="knisa1"> כניסה </div>
			<div id="arrow1"> &#x27a0;</div>
			<div id="knisa2">  כניסה <br> לגברים </div>   
      <div id="arrow2"> &#x27a8;</div>

			
  </fieldset> <br><br>
  
	
	 <fieldset id="hall3" class="subframe">
	    <legend><big><b id="Hall3FrameTop">עזרת נשים</b></big></legend>
			<div id="drawing_4"> </div>
			<div id="knisa3"> כניסה </div>
			<div id="arrow3"> &#x27a8;</div>
			<div id="drawing_5"> </div>
			<div id="drawing_6"> </div> 
			<div id="knisa4"> כניסה </div>
   		<div id="arrow4"> &#x27a8;</div>

			
 </fieldset> <br><br>
<fieldset id='Button' >

	<button name='sbmt' id='sbmt' type="button"  onclick= 'ckValidity()' style='display:block;width:80px;margin: auto;min-height:45px;'> <h2><span id='lanDepndntStr48_HB' >שלח </span>
	<span id='lanDepndntStr48_EN'> submit</span></h2></button><br><br>

	<input type="text"  name='seatsString'  value='' style='display:none'> 
	</fieldset>
</form>

<form name="hiddenForm" id='hiddenForm' style='display:none'>
<div id='hiddenDiv'>  </div>
<input type="text"  name='lastFamName'  value='' style='display:none'>
<input type="text"  name='retrievedEmail'  value='' style='display:none'>

</form>

<form name='confirmation' id='confirmation'  style='display:none;clear:both;'>
<br><br><br>


 <div style='margin: auto; text-align:center'>  <h1> <font color='green'><span id='lanDepndntStr49_HB'> בקשתך נרשמה </span><span id='lanDepndntStr49_EN'>Your request has been registered</span>
 <span id='tashlum2'> <span id='lanDepndntStr50_HB'>והיא תטופל לאחר התשלום.</span><span id='lanDepndntStr50_EN'>and will be processed after payment.</span> </span></font></h1></div> 
 
 <h1 id='sgura_3' style="font-size:150%;text-align:center;display:none;color:red"><b><u>
   <span id='lanDepndntStr51_HB'>זו הזמנת מקומות לאחר סגירת ההרשמה. הזמנה זו תטופל בשלב השני של סידור המקומות</span>
	 <span id='lanDepndntStr51_EN'>The request was submitted after registration closed, and it will be handled in the second round of seating arrangements.</span></u></b> </h1>
	
	
	<div id='tashlum1'> <h2> <span id='lanDepndntStr52_HB'>  אם עדין לא שילמת נא להעביר תשלום בסך</span>
	      <span id='lanDepndntStr52_EN'> If you have not paid yet, please submit payment of </span> <span id='tashlum'> 0 </span> 
	<span id='lanDepndntStr27_HB'>ש"ח לאחד מחברי ההנהלה או להפקיד שק בקופת הגזברות בבית הכנסת.</span> 
	<span id='lanDepndntStr28_HB'>
	 ניתן גם לשלם  <a href="https://icredit.rivhit.co.il/payment/DonationPage.aspx?GroupId=043af093-640c-4723-8813-0b19aed72add" class="button">בכרטיס אשראי.    </a>  
  &nbsp &nbsp &nbsp <a href="https://www.kehilatariel.com/donation" class="button">באתר הקהילה</a>  תמצא/י הסבר וכן אפשרויות תשלום נוספות  
 	</span>
	<span id='lanDepndntStr27_EN' style='display:inline-block;'>NIS  to one of the members of the board of management,</span>
	 <span id='lanDepndntStr28_EN' style='display:inline-block;'>or deposit a cheque in the treasury slot in the synagogue.<br>
	 Click <a href="https://icredit.rivhit.co.il/payment/DonationPage.aspx?GroupId=043af093-640c-4723-8813-0b19aed72add" class="button">here    </a>  
	 to pay online by credit card, or see the <a href="https://www.kehilatariel.com/donation" class="button">shul site</a> for other payment options.
	 </span> 

</div></h2>

      	 
	 
<div id='tosefet' style='display:none'; > <h2> 
<span id='lanDepndntStr58_HB' style='display:inline-block;'>התשלום הנדרש מהווה תוספת של <span id='tashlum4'>0</span> ש"ח ביחס לרישום הקודם</span>
	 <span id='lanDepndntStr58_EN' style='display:inline-block;'> The new required payment represents an increase of <span id='tashlum5'>0</span> shekalim over the previous one.</span> </h2></div>
</h2></div>

<div id='hafchata' style='display:none';><h2>
<span id='lanDepndntStr59_HB' style='display:inline-block;'>התשלום הנדרש מהווה הפחתה של <span id='tashlum6'>0</span> ש"ח ביחס לרישום הקודם</span>
	 <span id='lanDepndntStr59_EN' style='display:inline-block;'> The new required payment represents a decrease of <span id='tashlum7'>0</span> shekalim over the previous one.</span> </h2></div>
</h2></div>


	<div id='incompatibilty' style='margin: auto; text-align:center'> <h2><font color='red'> <span id='lanDepndntStr53_HB'>הבקשה נרשמה למרות שמספר הכסאות שסומן לגברים ו/או לנשים קטן ממספר המקומות שנרשמו בבקשה </span>
	<span id='lanDepndntStr53_EN'>The request has been registered although the number of seats marked for men and/or women is less than the number of seats requested.</span>  </font></h2></div>

<br><br>

<div  style='margin: auto; text-align:center'> <h2><font color='blue'> <span id='lanDepndntStr60_HB' style='display:inline-block;'>הודעת אישור נשלחה אל כתובת המייל (אם הוכנסה) </span>
	<span id='lanDepndntStr60_EN' style='display:inline-block;'> Confirmation message has been sent to your email addr (if entered)</span>  </font></h2></div>

<br><br>

<div style='margin: auto; text-align:center'>
<button  type="button"  onclick= 'reDisplayMainForm()'> <h2><span id='lanDepndntStr54_HB'>חזרה לדף ראשי </span>
                                 <span id='lanDepndntStr54_EN'>Back to main page</span></h2></button><br><br>  </div>

</form>

<form name='errorInRequest' id='errorInRequest' style='display:none'> 
<br><br><br>
 <div style='margin: auto; text-align:center'>  <h1> <font color='red'> <span id='lanDepndntStr29_HB'>בקשתך  לא נרשמה</span>
     <span id='lanDepndntStr29_EN'>Your request has not been registered</span></font></h1><div> 
	<div> <h2><span id='lanDepndntStr55_HB'> שגיאה בתהליך הכתיבה (קוד שגיאה </span><span id='lanDepndntStr55_EN'>Error in data entry (error code </span><span id='shgia'> 0 </span>
	<span id='lanDepndntStr56_HB'> ). אנא נסה שנית מאוחר יותר <span id='lanDepndntStr56_EN'>Please try again later</span></h2></div>
<div style='margin: auto; text-align:center'> 
<button  type="button"  onclick= 'reDisplayMainForm()'> <h2><span id='lanDepndntStr57_HB'>חזרה לדף ראשי </span>
                      <span id='lanDepndntStr57_EN'>Back to main page</span></h2></button><br><br> <div>  

	 </form>



</body>
</html>

